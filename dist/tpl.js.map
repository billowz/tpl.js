{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 6e45f936f225cacc3ae1","webpack:///./src/index.js","webpack:///./src/template.js","webpack:///./src/util.js","webpack:///external {\"root\":\"observer\",\"commonjs\":\"observer\",\"commonjs2\":\"observer\",\"amd\":\"observer\"}","webpack:///./src/dom/index.js","webpack:///./src/dom/core.js","webpack:///./src/dom/attr.js","webpack:///./src/dom/css.js","webpack:///./src/dom/val.js","webpack:///./src/dom/event.js","webpack:///./src/dom/ready.js","webpack:///./src/templateInstance.js","webpack:///./src/binding/index.js","webpack:///./src/binding ^\\.\\/.*$","webpack:///./src/binding/abstractBinding.js","webpack:///./src/binding/binding.js","webpack:///./src/config.js","webpack:///./src/binding/directive.js","webpack:///./src/log.js","webpack:///./src/binding/directiveGroup.js","webpack:///./src/binding/text.js","webpack:///./src/expression.js","webpack:///./src/filter.js","webpack:///./src/textParser.js","webpack:///./src/directives/index.js","webpack:///./src/directives/each.js","webpack:///./src/directives/event.js","webpack:///./src/directives/simple.js"],"names":[],"mappings":"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","file":"tpl.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"observer\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"observer\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"tpl\"] = factory(require(\"observer\"));\n\telse\n\t\troot[\"tpl\"] = factory(root[\"observer\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_3__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"http://localhost:8088/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 6e45f936f225cacc3ae1\n **/","let tpl = require('./template'),\n  observer = require('observer'),\n  _ = require('./util'),\n  config = require('./config')\n\n_.assign(tpl, _, require('./dom'), {\n  filter: require('./filter'),\n  expression: require('./expression'),\n  Directive: require('./binding').Directive,\n  directives: require('./directives'),\n  TextParser: require('./textParser'),\n  config: config.get(),\n  init(cfg) {\n    observer.init(cfg)\n    config.config(cfg)\n  }\n})\nmodule.exports = tpl;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","const _ = require('./util'),\n  dom = require('./dom'),\n  TemplateInstance = require('./templateInstance'),\n  TextParser = require('./textParser'),\n  config = require('./config')\n\nconfig.register('directiveReg', /^tpl-/)\nconfig.register('textParser', TextParser.NormalTextParser)\n\nclass Template {\n  constructor(templ, cfg = {}) {\n    let el = document.createElement('div')\n    if (typeof templ == 'string') {\n      templ = _.trim(templ)\n      if (templ.charAt(0) == '<')\n        el.innerHTML = templ\n      else\n        dom.append(el, dom.query(templ))\n    } else {\n      dom.append(el, templ)\n    }\n    this.el = el\n    this.directiveReg = cfg.directiveReg || config.get('directiveReg')\n    this.TextParser = cfg.TextParser || config.get('textParser')\n  }\n\n  complie(scope) {\n    return new TemplateInstance(dom.cloneNode(this.el), scope, this.TextParser, this.directiveReg)\n  }\n}\n\nmodule.exports = Template\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/template.js\n **/","const observer = require('observer'),\n    regHump = /(^[a-z])|([_-][a-zA-Z])/g\n\nfunction _hump(k) {\n    if (k[0] == '_' || k[0] == '-')\n        k = k[1]\n    return k.toUpperCase();\n}\n\nfunction assign(target, source, alias){\n    observer.each(source, (v,k)=>{\n        target[alias[k] || k] = v\n    })\n    return target\n}\n\nmodule.exports = assign({\n    hump(str) {\n        return str.replace(regHump, _hump);\n    },\n    YieId: observer.dynamicClass({\n        constructor() {\n            this.doned = false\n            this.thens = []\n        },\n        then(callback) {\n            if (this.doned)\n                callback()\n            else\n                this.thens.push(callback)\n        },\n        done() {\n            if (!this.doned) {\n                let thens = this.thens;\n                for (let i = 0, l = thens.length; i < l; i++) {\n                    thens[i]()\n                }\n                this.doned = true\n            }\n        },\n        isDone() {\n            return this.doned\n        }\n    })\n}, observer, {\n    on: 'observe',\n    un: 'unobserve',\n    hasListen: 'isObserved'\n})\n\nif(!Object.create)\n    Object.create = observer.create\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/util.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"observer\",\"commonjs\":\"observer\",\"commonjs2\":\"observer\",\"amd\":\"observer\"}\n ** module id = 3\n ** module chunks = 0\n **/","let dom = require('./core');\nrequire('./attr')\nrequire('./css')\nrequire('./val')\nrequire('./event')\nrequire('./ready')\nmodule.exports = dom;\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/dom/index.js\n **/","const _ = require('../util'),\n  textContent = typeof document.createElement('div').textContent == 'string' ? 'textContent' : 'innerText'\n\nlet dom = {\n  W3C: !!window.dispatchEvent,\n  inDoc(el, root) {\n    root = root || document.documentElement\n    if (root.contains)\n      return root.contains(el)\n    try {\n      while ((el = el.parentNode)) {\n        if (el === root)\n          return true\n      }\n    } catch (e) {}\n    return false\n  },\n  query(selectors, all) {\n    if (_.isString(selectors))\n      return all ? document.querySelectorAll(selectors) : document.querySelector(selectors)\n    return selectors\n  },\n  cloneNode(el, deep) {\n    function clone(el) {\n      return el.cloneNode(deep !== false)\n    }\n    return _.isArrayLike(el) ? _.map(el, clone) : clone(el)\n  },\n  remove(el) {\n    function remove(el) {\n      if (el.parentNode)\n        el.parentNode.removeChild(el)\n    }\n    _.isArrayLike(el) ? _.each(el, remove) : remove(el)\n  },\n  before(el, target) {\n    if (_.isArrayLike(target))\n      target = target[0]\n\n    let parent = target.parentNode\n\n    function before(el) {\n      parent.insertBefore(el, target)\n    }\n    _.isArrayLike(el) ? _.each(el, before) : before(el)\n  },\n  after(el, target) {\n    if (_.isArrayLike(target))\n      target = target[target.length - 1]\n\n    let parent = target.parentNode,\n      apply = parent.lastChild === target ? function(el) {\n        parent.appendChild(el)\n      } : function() {\n        let next = target.nextSibling\n\n        return function(el) {\n          parent.insertBefore(el, next)\n        }\n      }()\n    _.isArrayLike(el) ? _.each(el, apply) : apply(el)\n  },\n  append(target, el) {\n    function append(el) {\n      target.appendChild(el)\n    }\n    _.isArrayLike(el) ? _.each(el, append) : append(el)\n  },\n  prepend(target, el) {\n    target.firstChild ? dom.before(el, el.firstChild) : dom.append(target, el)\n  },\n  html(el, html) {\n    return arguments.length > 1 ? (el.innerHTML = html) : el.innerHTML\n  },\n  outerHtml(el) {\n    if (el.outerHTML)\n      return el.outerHTML\n\n    let container = document.createElement('div')\n    container.appendChild(el.cloneNode(true))\n    return container.innerHTML\n  },\n  text(el, text) {\n    if (el.nodeType == 3)\n      return arguments.length > 1 ? (el.data = text) : el.data\n    return arguments.length > 1 ? (el[textContent] = text) : el[textContent]\n  },\n  focus(el) {\n    el.focus()\n  }\n}\n\nmodule.exports = dom\n\n//====================== Query =============================\nif (!document.querySelectorAll) {\n  document.querySelectorAll = function querySelectorAll(selector) {\n    let doc = document,\n      head = doc.documentElement.firstChild,\n      styleTag = doc.createElement('STYLE')\n\n    head.appendChild(styleTag)\n    doc.__qsaels = []\n    if (styleTag.styleSheet) { // for IE\n      styleTag.styleSheet.cssText = selector + '{x:expression(document.__qsaels.push(this))}'\n    } else { // others\n      let textnode = document.createTextNode(selector + '{x:expression(document.__qsaels.push(this))}')\n      styleTag.appendChild(textnode)\n    }\n    window.scrollBy(0, 0)\n    return doc.__qsaels\n  }\n}\nif (!document.querySelector) {\n  document.querySelector = function querySelector(selectors) {\n    let elements = document.querySelectorAll(selectors)\n    return elements.length ? elements[0] : null\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/dom/core.js\n **/","const _ = require('../util'),\n  dom = require('./core'),\n  rfocusable = /^(?:input|select|textarea|button|object)$/i,\n  rclickable = /^(?:a|area)$/i\n\n_.assign(dom, {\n  prop(el, name, value) {\n    name = dom.propFix[name] || name;\n    let hook = dom.propHooks[name];\n\n    if (arguments.length > 2)\n      return hook && hook.set ? hook.set(el, name, value) : (el[name] = value)\n    return hook && hook.get ? hook.get(el, name) : el[name]\n  },\n  attr(el, name, val) {\n    return arguments.length > 2 ? el.setAttribute(name, val) : el.getAttribute(name)\n  },\n  removeAttr(el, name) {\n    return el.removeAttribute(name)\n  },\n  checked(el, check) {\n    return _prop(el, 'checked', arguments.length > 1, check)\n  },\n  class(el, cls) {\n    return _prop(el, 'class', arguments.length > 1, cls)\n  },\n  addClass(el, cls) {\n    if (el.classList) {\n      el.classList.add(cls)\n    } else {\n      let cur = ` ${dom.prop(el, 'class')} `\n      if (cur.indexOf(` ${cls} `) === -1)\n        dom.class(el, _.trim(cur + cls))\n    }\n  },\n  removeClass(el, cls) {\n    el.classList ? el.classList.remove(cls) :\n      dom.class(el, _.trim(` ${dom.prop(el, 'class')} `.replace(new RegExp(` ${cls} `, 'g'), '')))\n  },\n  style(el, style) {\n    return _prop(el, 'style', arguments.length > 1, style)\n  },\n  propHooks: {\n    tabIndex: {\n      get: function(elem) {\n        let attributeNode = elem.getAttributeNode('tabindex')\n\n        return attributeNode && attributeNode.specified ? parseInt(attributeNode.value, 10) :\n          rfocusable.test(elem.nodeName) || rclickable.test(elem.nodeName) && elem.href ?\n          0 : undefined;\n      }\n    }\n  },\n  propFix: {\n    tabindex: 'tabIndex',\n    readonly: 'readOnly',\n    'for': 'htmlFor',\n    'class': 'className',\n    maxlength: 'maxLength',\n    cellspacing: 'cellSpacing',\n    cellpadding: 'cellPadding',\n    rowspan: 'rowSpan',\n    colspan: 'colSpan',\n    usemap: 'useMap',\n    frameborder: 'frameBorder',\n    contenteditable: 'contentEditable'\n  }\n})\n\nfunction _prop(el, name, set, val) {\n  return set ? dom.prop(el, name, val) : dom.prop(el, name)\n}\n\nmodule.exports = dom\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/dom/attr.js\n **/","const _ = require('../util'),\n  dom = require('./core');\n\n_.assign(dom, {\n  css(el, name, value) {\n    let prop = /[_-]/.test(name) ? camelize(name) : name,\n      hook\n\n    name = cssName(prop) || prop\n    hook = cssHooks[prop] || cssDefaultHook\n    if (arguments.length == 2) {\n      let convert = value, num;\n\n      if (name === 'background')\n        name = 'backgroundColor';\n      value = hook.get(el, name);\n      return convert !== false && isFinite((num = parseFloat(value))) ? num : value;\n    } else if (!value && value !== 0) {\n      el.style[name] = ''\n    } else {\n      if (isFinite(value) && !cssNumber[prop])\n        value += 'px'\n      hook.set(el, name, value)\n    }\n  },\n  position: function(el) {\n    let _offsetParent, _offset,\n      parentOffset = {\n        top: 0,\n        left: 0\n      };\n    if (dom.css(el, 'position') === 'fixed') {\n      _offset = el.getBoundingClientRect();\n    } else {\n      _offsetParent = offsetParent(el);\n      _offset = offset(el);\n      if (_offsetParent.tagName !== 'HTML')\n        parentOffset = offset(_offsetParent);\n      parentOffset.top += dom.css(_offsetParent, 'borderTopWidth', true);\n      parentOffset.left += dom.css(_offsetParent, 'borderLeftWidth', true);\n\n      parentOffset.top -= dom.scrollTop(_offsetParent);\n      parentOffset.left -= dom.scrollLeft(_offsetParent);\n    }\n    return {\n      top: _offset.top - parentOffset.top - dom.css(el, 'marginTop', true),\n      left: _offset.left - parentOffset.left - dom.css(el, 'marginLeft', true)\n    }\n  },\n  scrollTop(el, val) {\n    let win = getWindow(el);\n    if (arguments.length == 1) {\n      return (win ? 'scrollTop' in win ? win.scrollTop : root.pageYOffset : el.pageYOffset) || 0;\n    } else if (win) {\n      win.scrollTo(dom.scrollLeft(el), val);\n    } else {\n      el.pageYOffset = val;\n    }\n  },\n\n  scrollLeft(el, val) {\n    let win = getWindow(el);\n    if (arguments.length == 1) {\n      return (win ? 'scrollLeft' in win ? win.scrollLeft : root.pageXOffset : el.pageXOffset) || 0;\n    } else if (win) {\n      win.scrollTo(val, dom.scrollTop(el));\n    } else {\n      el.pageXOffset = val;\n    }\n  },\n\n  scroll(el, left, top) {\n    let win = getWindow(el);\n    if (arguments.length == 1) {\n      return {\n        left: dom.scrollLeft(el),\n        top: dom.scrollTop(el)\n      }\n    } else if (win) {\n      win.scrollTo(left, top);\n    } else {\n      el.pageXOffset = left;\n      el.pageYOffset = top;\n    }\n  }\n});\n\nmodule.exports = dom;\n\nlet cssFix = dom.cssFix = {\n    'float': dom.W3C ? 'cssFloat' : 'styleFloat'\n  },\n  cssHooks = dom.cssHooks = {},\n  cssDefaultHook = {},\n  prefixes = ['', '-webkit-', '-o-', '-moz-', '-ms-'],\n  cssNumber = {\n    animationIterationCount: true,\n    columnCount: true,\n    order: true,\n    flex: true,\n    flexGrow: true,\n    flexShrink: true,\n    fillOpacity: true,\n    fontWeight: true,\n    lineHeight: true,\n    opacity: true,\n    orphans: true,\n    widows: true,\n    zIndex: true,\n    zoom: true\n  },\n  cssShow = {\n    position: 'absolute',\n    visibility: 'hidden',\n    display: 'block'\n  },\n  rdisplayswap = /^(none|table(?!-c[ea]).+)/,\n  root = document.documentElement,\n  css = dom.css;\n\nfunction camelize(target) {\n  if (!target || target.indexOf('-') < 0 && target.indexOf('_') < 0) {\n    return target\n  }\n  return target.replace(/[-_][^-_]/g, function(match) {\n    return match.charAt(1).toUpperCase()\n  });\n}\nfunction cssName(name, host, camelCase) {\n  if (cssFix[name])\n    return cssFix[name]\n  host = host || root.style\n  for (var i = 0, n = prefixes.length; i < n; i++) {\n    camelCase = camelize(prefixes[i] + name)\n    if (camelCase in host) {\n      return (cssFix[name] = camelCase)\n    }\n  }\n  return null\n}\ncssDefaultHook.set = function cssDefaultSet(el, name, value) {\n  try {\n    el.style[name] = value\n  } catch (e) {}\n}\n\nlet cssDefaultGet;\nif (window.getComputedStyle) {\n  cssDefaultGet = cssDefaultHook.get = function cssDefaultGet(el, name) {\n    let val,\n      styles = getComputedStyle(el, null)\n\n    if (styles) {\n      val = name === 'filter' ? styles.getPropertyValue(name) : styles[name]\n      if (val === '')\n        val = el.style[name]\n    }\n    return val\n  }\n  cssHooks.opacity = {\n    get(el, name) {\n      let val = cssDefaultGet(el, name);\n      return val === '' ? '1' : ret;\n    }\n  }\n} else {\n  let rnumnonpx = /^-?(?:\\d*\\.)?\\d+(?!px)[^\\d\\s]+$/i,\n    rposition = /^(top|right|bottom|left)$/,\n    ralpha = /alpha\\([^)]*\\)/i,\n    ie8 = !!window.XDomainRequest,\n    salpha = 'DXImageTransform.Microsoft.Alpha',\n    border = {\n      thin: ie8 ? '1px' : '2px',\n      medium: ie8 ? '3px' : '4px',\n      thick: ie8 ? '5px' : '6px'\n    }\n\n  cssDefaultGet = cssDefaultHook.get = function cssDefaultGet(el, name) {\n    let currentStyle = el.currentStyle,\n      val = currentStyle[name];\n\n    if ( (rnumnonpx.test(val) && !rposition.test(val)) ) {\n      let style = el.style,\n        left = style.left,\n        rsLeft = el.runtimeStyle.left;\n\n      el.runtimeStyle.left = currentStyle.left;\n      style.left = name === 'fontSize' ? '1em' : (val || 0);\n      val = style.pixelLeft + 'px';\n      style.left = left;\n      el.runtimeStyle.left = rsLeft;\n    }\n    if (val === 'medium') {\n      name = name.replace('Width', 'Style');\n      if (currentStyle[name] === 'none')\n        val = '0px';\n    }\n    return val === '' ? 'auto' : border[val] || val;\n  }\n  cssHooks.opacity = {\n    get(el, name) {\n      let alpha = el.filters.alpha || el.filters[salpha],\n        op = alpha && alpha.enabled ? alpha.opacity : 100;\n\n      return (op / 100) + ''\n    },\n    set(el, name, value) {\n      var style = el.style,\n        opacity = isFinite(value) && value <= 1 ? `alpha(opacity=${value * 100})` : '',\n        filter = style.filter || '';\n\n      style.zoom = 1;\n      style.filter = (ralpha.test(filter) ?\n        filter.replace(ralpha, opacity) : filter + ' ' + opacity).trim();\n      if (!style.filter)\n        style.removeAttribute('filter');\n    }\n  }\n}\n\n_.each(['top', 'left'], function(name) {\n  cssHooks[name] = {\n    get(el, name) {\n      let val = cssDefaultGet(el, name);\n      return /px$/.test(val) ? val : dom.position(el)[name] + 'px'\n    }\n  }\n})\n\n_.each(['Width', 'Height'], function(name) {\n  var method = name.toLowerCase(),\n    clientProp = 'client' + name,\n    scrollProp = 'scroll' + name,\n    offsetProp = 'offset' + name,\n    which = name == 'Width' ? ['Left', 'Right'] : ['Top', 'Bottom'];\n\n  function get(el, boxSizing) {\n    let val;\n\n    val = el[offsetProp] // border-box 0\n    if (boxSizing === 2) // margin-box 2\n      return val + css(el, 'margin' + which[0], true) + css(el, 'margin' + which[1], true);\n    if (boxSizing < 0) // padding-box  -2\n      val = val - css(el, 'border' + which[0] + 'Width', true) - css(el, 'border' + which[1] + 'Width', true);\n    if (boxSizing === -4) // content-box -4\n      val = val - css(el, 'padding' + which[0], true) - css(el, 'padding' + which[1], true);\n    return val\n  }\n\n  dom[method] = function(el) {\n    return get(el, -4);\n  }\n\n  dom['inner' + name] = function(el) {\n    return get(el, -2);\n  }\n  dom['outer' + name] = function(el, includeMargin) {\n    return get(el, includeMargin === true ? 2 : 0);\n  }\n})\n\nfunction offsetParent(el) {\n  var offsetParent = el.offsetParent\n  while (offsetParent && css(offsetParent, \"position\") === \"static\") {\n    offsetParent = offsetParent.offsetParent;\n  }\n  return offsetParent || root;\n}\n\nfunction offset(el) { //取得距离页面左右角的坐标\n  var box = {\n    left: 0,\n    top: 0\n  };\n\n  if (!el || !el.tagName || !el.ownerDocument)\n    return box;\n\n  var doc = el.ownerDocument,\n    body = doc.body,\n    root = doc.documentElement,\n    win = doc.defaultView || doc.parentWindow;\n\n  if (!dom.inDoc(el, root))\n    return box;\n\n  if (el.getBoundingClientRect)\n    box = el.getBoundingClientRect();\n\n  var clientTop = root.clientTop || body.clientTop,\n    clientLeft = root.clientLeft || body.clientLeft,\n    scrollTop = Math.max(win.pageYOffset || 0, root.scrollTop, body.scrollTop),\n    scrollLeft = Math.max(win.pageXOffset || 0, root.scrollLeft, body.scrollLeft);\n  return {\n    top: box.top + scrollTop - clientTop,\n    left: box.left + scrollLeft - clientLeft\n  }\n}\n\nfunction getWindow(node) {\n  return node.window && node.document ? node : node.nodeType === 9 ? node.defaultView || node.parentWindow : false;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/dom/css.js\n **/","const _ = require('../util'),\n  dom = require('./core');\n\nfunction stringValue(val) {\n  if (_.isNil(val) || val === NaN)\n    return ''\n  if (!_.isString(val))\n    return val + ''\n  return val\n}\n\nmodule.exports = _.assign(dom, {\n  val(el, val) {\n    let hook = dom.valHooks[el.type || el.tagName.toLowerCase()]\n\n    if (arguments.length == 1)\n      return hook && hook.get ? hook.get(el) : el.value || ''\n\n    return hook && hook.set ? hook.set(el, val) : (el.value = stringValue(val))\n  },\n  valHooks: {\n    option: {\n      get(el) {\n        let val = el.attributes.value\n\n        return !val || val.specified ? el.value : el.text\n      }\n    },\n\n    select: {\n      get(el) {\n        let signle = el.type == 'select-one',\n          index = el.selectedIndex\n\n        if (index < 0)\n          return signle ? undefined : []\n\n        let options = el.options,\n          option,\n          values = signle ? undefined : []\n\n        for (let i = 0, l = options.length; i < l; i++) {\n          option = options[i];\n          if (option.selected || i == index) {\n            if (signle) return dom.val(option);\n            values.push(dom.val(option))\n          }\n        }\n        return values\n      },\n\n      set(el, value) {\n        let signle = el.type == 'select-one',\n          options = el.options,\n          option, i, l, vl, val\n\n        el.selectedIndex = -1;\n\n        if (!_.isArray(value))\n          value = _.isNil(value) ? [] : [value]\n\n        if ((vl = value.length)) {\n          if (signle) vl = value.length = 1\n\n          let map = _.reverseConvert(value, () => false),\n            nr = 0\n\n          for (i = 0, l = options.length; i < l; i++) {\n            option = options[i]\n            val = dom.val(option)\n            if (_.isBoolean(map[val])) {\n              map[val] = option.selected = true\n              if (++nr === vl)\n                break\n            }\n            value = _.keys(map, (v) => v === true)\n          }\n        }\n        return signle ? value[0] : value\n      }\n\n    }\n  }\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/dom/val.js\n **/","const _ = require('../util'),\n  dom = require('./core'),\n  root = document.documentElement,\n  domReady = false;\n\n_.assign(dom, {\n  on(el, type, cb, once) {\n    if (addListen(el, type, cb, once === true)) {\n      canBubbleUp[type] ? delegateEvent(type, cb) : bandEvent(el, type, cb);\n      return cb;\n    }\n    return false;\n  },\n  once(el, type, cb) {\n    return dom.on(el, type, cb, true);\n  },\n  off(el, type, cb) {\n    if (removeListen(el, type, cb)) {\n      canBubbleUp[type] ? undelegateEvent(type, cb) : unbandEvent(el, type, cb);\n      return cb;\n    }\n    return false;\n  },\n  dispatchEvent(el, type, opts) {\n    let hackEvent;\n    if (document.createEvent) {\n      hackEvent = document.createEvent('Events');\n      hackEvent.initEvent(type, true, true, opts);\n      _.assign(hackEvent, opts);\n      el.dispatchEvent(hackEvent);\n    } else if (dom.inDoc(el)) { //IE6-8触发事件必须保证在DOM树中,否则报'SCRIPT16389: 未指明的错误'\n      hackEvent = document.createEventObject();\n      _.assign(hackEvent, opts);\n      el.fireEvent('on' + type, hackEvent);\n    }\n    return hackEvent;\n  }\n});\n\nmodule.exports = dom;\n\nconst mouseEventReg = /^(?:mouse|contextmenu|drag)|click/,\n  keyEventReg = /^key/,\n  eventProps = ['altKey', 'bubbles', 'cancelable', 'ctrlKey', 'currentTarget', 'propertyName',\n    'eventPhase', 'metaKey', 'relatedTarget', 'shiftKey', 'target', 'view', 'which'\n  ],\n  eventFixHooks = {},\n  keyEventFixHook = {\n    props: ['char', 'charCode', 'key', 'keyCode'],\n    fix: function(event, original) {\n      if (event.which == null)\n        event.which = original.charCode != null ? original.charCode : original.keyCode;\n    }\n  },\n  mouseEventFixHook = {\n    props: ['button', 'buttons', 'clientX', 'clientY', 'offsetX', 'offsetY', 'pageX', 'pageY', 'screenX', 'screenY', 'toElement'],\n    fix: function(event, original) {\n      var eventDoc, doc, body,\n        button = original.button;\n\n      if (event.pageX == null && original.clientX != null) {\n        eventDoc = event.target.ownerDocument || document;\n        doc = eventDoc.documentElement;\n        body = eventDoc.body;\n        event.pageX = original.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);\n        event.pageY = original.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0);\n      }\n      if (!event.which && button !== undefined)\n        event.which = (button & 1 ? 1 : (button & 2 ? 3 : (button & 4 ? 2 : 0)));\n    }\n  };\n\nclass Event {\n  constructor(event) {\n    let type = event.type,\n      fixHook = eventFixHooks[type],\n      i, prop;\n\n    this.originalEvent = event;\n    this.type = event.type;\n    this.returnValue = !(event.defaultPrevented || event.returnValue === false || event.getPreventDefault && event.getPreventDefault());\n    this.timeStamp = event && event.timeStamp || (new Date() + 0);\n\n    i = eventProps.length;\n    while (i--) {\n      prop = eventProps[i];\n      this[prop] = event[prop];\n    }\n\n    if (!fixHook)\n      eventFixHooks[type] = fixHook = mouseEventReg.test(type) ? mouseEventFixHook : keyEventReg.test(type) ? keyEventFixHook : {};\n\n    if (fixHook.props) {\n      let props = fixHook.props;\n      i = props.length;\n      while (i--) {\n        prop = props[i];\n        this[prop] = event[prop];\n      }\n    }\n\n    if (!this.target)\n      this.target = event.srcElement || document;\n    if (this.target.nodeType == 3)\n      this.target = this.target.parentNode;\n\n    if (fixHook.fix)\n      fixHook.fix(this, event);\n  }\n\n  preventDefault() {\n    let e = this.originalEvent;\n    this.returnValue = false;\n    if (e) {\n      e.returnValue = false;\n      if (e.preventDefault)\n        e.preventDefault();\n    }\n  }\n\n  stopPropagation() {\n    let e = this.originalEvent\n    this.cancelBubble = true;\n    if (e) {\n      e.cancelBubble = true;\n      if (e.stopPropagation)\n        e.stopPropagation();\n    }\n  }\n\n  stopImmediatePropagation() {\n    let e = this.originalEvent;\n    this.isImmediatePropagationStopped = true;\n    if (e.stopImmediatePropagation)\n      e.stopImmediatePropagation();\n    this.stopPropagation();\n  }\n}\n\nconst listenKey = '__LISTEN__'\n\nfunction addListen(el, type, handler, once) {\n  if (!_.isFunc(handler))\n    throw TypeError('Invalid Event Handler')\n\n  let listens = el[listenKey],\n    handlers\n\n  if (!listens)\n    el[listenKey] = listens = {}\n\n  if (!(handlers = listens[type]))\n    listens[type] = handlers = []\n\n  handlers.push({\n    handler: handler,\n    once: once\n  })\n  return handlers.length === 1;\n}\n\nfunction removeListen(el, type, handler) {\n  let listens = el[listenKey],\n    handlers = listens ? listens[type] : undefined\n\n  if (handlers) {\n    for (let i = 0, l = handlers.length; i < l; i++) {\n      if (handlers[i].handler === handler) {\n        handlers.splice(i, 1);\n        return l === 1\n      }\n    }\n  }\n  return false;\n}\n\nfunction getListens(el, type) {\n  let listens = el[listenKey],\n    handlers = listens ? listens[type] : undefined\n\n  return handlers ? handlers.slice() : undefined\n}\n\nfunction hasListen(el, type) {\n  let listens = el[listenKey],\n    handlers = listens ? listens[type] : undefined\n\n  return handlers ? !!handlers.length : false;\n}\n\nconst bind = dom.W3C ? function(el, type, fn, capture) {\n    el.addEventListener(type, fn, capture)\n  } : function(el, type, fn) {\n    el.attachEvent('on' + type, fn)\n  },\n  unbind = dom.W3C ? function(el, type, fn) {\n    el.removeEventListener(type, fn)\n  } : function(el, type, fn) {\n    el.detachEvent('on' + type, fn)\n  },\n  canBubbleUpArray = ['click', 'dblclick', 'keydown', 'keypress', 'keyup',\n    'mousedown', 'mousemove', 'mouseup', 'mouseover', 'mouseout', 'wheel', 'mousewheel',\n    'input', 'change', 'beforeinput', 'compositionstart', 'compositionupdate', 'compositionend',\n    'select', 'cut', 'copy', 'paste', 'beforecut', 'beforecopy', 'beforepaste', 'focusin',\n    'focusout', 'DOMFocusIn', 'DOMFocusOut', 'DOMActivate', 'dragend', 'datasetchanged'\n  ],\n  canBubbleUp = {},\n  focusBlur = {\n    focus: true,\n    blur: true\n  },\n  eventHooks = {},\n  eventHookTypes = {},\n  delegateEvents = {};\n\n_.each(canBubbleUpArray, (name) => {\n  canBubbleUp[name] = true;\n});\nif (!dom.W3C) {\n  delete canBubbleUp.change\n  delete canBubbleUp.select\n}\n\nfunction bandEvent(el, type, cb) {\n  let hook = eventHooks[type];\n  if (!hook || !hook.bind || hook.bind(el, type, cb) !== false)\n    bind(el, hook ? hook.type || type : type, dispatch, !!focusBlur[type]);\n}\n\nfunction unbandEvent(el, type, cb) {\n  let hook = eventHooks[type];\n  if (!hook || !hook.unbind || hook.unbind(el, type, cb) !== false)\n    unbind(el, hook ? hook.type || type : type, dispatch);\n}\n\nfunction delegateEvent(type, cb) {\n  if (!delegateEvents[type]) {\n    bandEvent(root, type, cb);\n    delegateEvents[type] = 1;\n  } else {\n    delegateEvents[type]++;\n  }\n}\n\nfunction undelegateEvent(type, cb) {\n  if (delegateEvents[type]) {\n    delegateEvents[type]--;\n    if (!delegateEvents[type])\n      unbandEvent(root, type, cb);\n  }\n}\n\nlet last = new Date();\n\nfunction dispatchElement(el, event, isMove) {\n  let handlers = getListens(el, event.type);\n\n  if (handlers) {\n    event.currentTarget = el;\n    let handler, i, l;\n    for (i = 0, l = handlers.length; i < l && !event.isImmediatePropagationStopped; i++) {\n      handler = handlers[i];\n      if (isMove) {\n        let now = new Date();\n        if (now - last > 16) {\n          handler.handler.call(el, event);\n          last = now;\n        }\n      } else\n        handler.handler.call(el, event);\n\n      if (handler.once)\n        dom.off(el, event.type, handler.handler);\n    }\n  }\n}\n\nfunction dispatchEvent(el, type, event) {\n  if (el.disabled !== true || type !== 'click') {\n    let isMove = /move|scroll/.test(type);\n    if (canBubbleUp[type]) {\n      while (el && el.getAttribute && !event.cancelBubble) {\n        dispatchElement(el, event, isMove);\n        el = el.parentNode;\n      }\n    } else\n      dispatchElement(el, event, isMove);\n  }\n}\n\nfunction dispatch(event) {\n  event = new Event(event);\n  let type = event.type,\n    el = event.target;\n  if (eventHookTypes[type]) {\n    type = eventHookTypes[type]\n    let hook = eventHooks[type];\n    if (hook && hook.fix && hook.fix(el, event) === false)\n      return;\n    event.type = type;\n    dispatchEvent(el, type, event);\n  } else {\n    dispatchEvent(el, type, event);\n  }\n}\n\n//针对firefox, chrome修正mouseenter, mouseleave\nif (!('onmouseenter' in root)) {\n  _.each({\n    mouseenter: 'mouseover',\n    mouseleave: 'mouseout'\n  }, function(origType, fixType) {\n    eventHooks[origType] = {\n      type: fixType,\n      fix(elem, event, fn) {\n        let t = event.relatedTarget;\n        return !t || (t !== elem && !(elem.compareDocumentPosition(t) & 16))\n      }\n    }\n  })\n}\n//针对IE9+, w3c修正animationend\n_.each({\n  AnimationEvent: 'animationend',\n  WebKitAnimationEvent: 'webkitAnimationEnd'\n}, function(construct, fixType) {\n  if (window[construct] && !eventHooks.animationend) {\n    eventHooks.animationend = {\n      type: fixType\n    }\n  }\n});\n\n//针对IE6-8修正input\nif (!('oninput' in document.createElement('input'))) {\n  delete canBubbleUp.input;\n  eventHooks.input = {\n    type: 'propertychange',\n    fix(elem, event) {\n      return event.propertyName == 'value';\n    }\n  }\n  eventHooks.change = {\n    bind(elem) {\n      if (elem.type == 'checkbox' || elem.type == 'radio') {\n        if (!elem.$onchange) {\n          elem.$onchange = function(event) {\n            event.type = 'change';\n            dispatchEvent(elem, 'change', event);\n          }\n          dom.on(elem, 'click', elem.$onchange);\n        }\n        return false;\n      }\n    },\n    unbind(elem) {\n      if (elem.type == 'checkbox' || elem.type == 'radio') {\n        dom.off(elem, 'click', elem.$onchange);\n        return false;\n      }\n    }\n  }\n} else if (navigator.userAgent.indexOf('MSIE 9') !== -1) {\n  eventHooks.input = {\n      type: 'input',\n      fix(elem) {\n        elem.oldValue = elem.value;\n      }\n    }\n    // http://stackoverflow.com/questions/6382389/oninput-in-ie9-doesnt-fire-when-we-hit-backspace-del-do-cut\n  document.addEventListener('selectionchange', function(event) {\n    var actEl = document.activeElement;\n    if (actEl.tagName === 'TEXTAREA' || (actEl.tagName === 'INPUT' && actEl.type === 'text')) {\n      if (actEl.value == actEl.oldValue)\n        return;\n      actEl.oldValue = actEl.value;\n      if (hasListen(actEl, 'input')) {\n        event = new Event(event);\n        event.type = 'input';\n        dispatchEvent(actEl, 'input', event);\n      }\n    }\n  });\n}\n\n\nif (document.onmousewheel === void 0) {\n  /* IE6-11 chrome mousewheel wheelDetla 下 -120 上 120\n   firefox DOMMouseScroll detail 下3 上-3\n   firefox wheel detlaY 下3 上-3\n   IE9-11 wheel deltaY 下40 上-40\n   chrome wheel deltaY 下100 上-100 */\n  let fixWheelType = document.onwheel ? 'wheel' : 'DOMMouseScroll',\n    fixWheelDelta = fixWheelType === 'wheel' ? 'deltaY' : 'detail';\n  eventHooks.mousewheel = {\n    type: fixWheelType,\n    fix(elem, event) {\n      event.wheelDeltaY = event.wheelDelta = event[fixWheelDelta] > 0 ? -120 : 120;\n      event.wheelDeltaX = 0;\n      return true;\n    }\n  }\n}\n_.each(eventHooks, function(hook, type) {\n  eventHookTypes[hook.type || type] = type;\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/dom/event.js\n **/","let dom = require('./event'),\n  readyList = [],\n  isReady,\n  root = document.documentElement\n\nfunction fireReady(fn) {\n  isReady = true\n  while (fn = readyList.shift())\n    fn()\n}\n\nif (document.readyState === 'complete') {\n  setTimeout(fireReady)\n} else if (document.addEventListener) {\n  document.addEventListener('DOMContentLoaded', fireReady)\n} else if (document.attachEvent) {\n  document.attachEvent('onreadystatechange', function() {\n    if (document.readyState === 'complete')\n      fireReady()\n  })\n  if (root.doScroll && window.frameElement === null && window.external) {\n    function doScrollCheck() {\n      try {\n        root.doScroll('left')\n        fireReady()\n      } catch (e) {\n        setTimeout(doScrollCheck)\n      }\n    }\n    doScrollCheck()\n  }\n}\n\ndom.on(window, 'load', fireReady);\n\ndom.ready = function(fn) {\n  !isReady ? readyList.push(fn) : fn()\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/dom/ready.js\n **/","const observer = require('observer'),\n  _ = require('./util'),\n  dom = require('./dom'),\n  {\n    Text,\n    Directive,\n    DirectiveGroup\n  } = require('./binding')\n\nfunction childNodes(el) {\n  return _.map(el.childNodes, (n) => n)\n}\n\nclass TemplateInstance {\n  constructor(el, scope, TextParser, directiveReg) {\n    this.TextParser = TextParser\n    this.directiveReg = directiveReg\n    this._scopeProxyListen = this._scopeProxyListen.bind(this)\n    this.scope = observer.proxy.proxy(scope) || scope\n    observer.proxy.on(this.scope, this._scopeProxyListen)\n    this.bindings = this.parse(el, this)\n    this.binded = false\n    this.els = childNodes(el)\n    this.bind()\n  }\n\n  parentEl() {\n    return this.els[0].parentNode\n  }\n\n  before(target) {\n    dom.before(this.els, dom.query(target))\n    return this\n  }\n\n  after(target) {\n    dom.after(this.els, dom.query(target))\n    return this\n  }\n\n  prependTo(target) {\n    dom.prepend(dom.query(target), this.els)\n    return this\n  }\n\n  appendTo(target) {\n    dom.append(dom.query(target), this.els)\n    return this\n  }\n\n  bind() {\n    if (!this.binded) {\n      _.each(this.bindings, (bind) => {\n        bind.bind()\n      })\n      this.binded = true\n    }\n    return this\n  }\n\n  unbind() {\n    if (this.binded) {\n      _.each(this.bindings, (bind) => {\n        bind.unbind()\n      })\n      this.binded = false\n    }\n    return this\n  }\n\n  destroy() {\n    observer.proxy.un(this.scope, this._scopeProxyListen)\n    _.each(this.bindings, (bind) => {\n      if (this.binded)\n        bind.unbind()\n      bind.destroy()\n    })\n    dom.remove(this.els)\n    this.bindings = undefined\n    this.scope = undefined\n  }\n\n  _scopeProxyListen(obj, proxy) {\n    this.scope = proxy || obj\n  }\n\n  parse(els) {\n    if (_.isArrayLike(els)) {\n      let bindings = []\n      _.each(els, (el) => {\n        bindings.push.apply(bindings, this.parseEl(el))\n      })\n      return bindings\n    }\n    return this.parseEl(els)\n  }\n\n  parseEl(el) {\n    switch (el.nodeType) {\n      case 1:\n        return this.parseElement(el)\n      case 3:\n        return this.parseText(el)\n      default:\n        return []\n    }\n  }\n\n  parseText(el) {\n    let text = el.data,\n      parser = new this.TextParser(text),\n      token, index = 0, bindings = []\n\n    while(token = parser.token()){\n      this.createTextNode2(text.substring(index, token.start), el)\n      bindings.push(new Text(this.createTextNode('binding', el), this, token.token))\n      index = token.end\n    }\n    if(index){\n      this.createTextNode2(text.substr(index), el)\n      dom.remove(el)\n    }\n    return bindings\n  }\n\n  parseElement(el) {\n    let block = false,\n      directives = [],\n      attributes = el.attributes,\n      attribute,\n      name,\n      directiveName,\n      directiveConst,\n      directiveConsts = []\n\n    for (let i = 0, l = attributes.length; i < l; i++) {\n      attribute = attributes[i]\n      name = attribute.name\n      directiveName = this.parseDirectiveName(name)\n      if (directiveName) {\n        directiveConst = Directive.getDirective(directiveName)\n        if (directiveConst) {\n          if (directiveConst.prototype.abstract) {\n            block = true\n            directiveConsts = [{\n              const: directiveConst,\n              expression: attribute.value,\n              attr: name\n            }]\n            break\n          } else {\n            directiveConsts.push({\n              const: directiveConst,\n              expression: attribute.value,\n              attr: name\n            })\n            if (directiveConst.prototype.block)\n              block = true\n          }\n        } else {\n          console.warn('Directive is undefined ' + name)\n        }\n      }\n    }\n    if (directiveConsts.length == 1) {\n      let cfg = directiveConsts[0]\n      directives.push(new cfg.const(el, this, cfg.expression, cfg.attr))\n    } else if (directiveConsts.length) {\n      directives.push(new DirectiveGroup(el, this, directiveConsts))\n    }\n    if (!block)\n      directives.push.apply(directives, this.parseChildNodes(el))\n    return directives\n  }\n\n  parseChildNodes(el) {\n    return this.parse(childNodes(el))\n  }\n\n  parseDirectiveName(name) {\n    let directiveName = name.replace(this.directiveReg, '')\n    return directiveName == name ? undefined : directiveName\n  }\n\n  createTextNode(content, before) {\n    let el = document.createTextNode(content)\n    dom.before(el, before)\n    return el\n  }\n\n  createTextNode2(content, before) {\n    if ((content = _.trim(content)))\n      return this.createTextNode(content, before)\n    return undefined\n  }\n}\n\nmodule.exports = TemplateInstance\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/templateInstance.js\n **/","const _ = require('../util')\n\n_.each(['abstractBinding', 'binding', 'text', 'directive', 'directiveGroup', 'text'], (name) => {\n  module.exports[_.upperFirst(name)] = require('./' + name)\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/binding/index.js\n **/","var map = {\n\t\"./abstractBinding\": 14,\n\t\"./abstractBinding.js\": 14,\n\t\"./binding\": 15,\n\t\"./binding.js\": 15,\n\t\"./directive\": 17,\n\t\"./directive.js\": 17,\n\t\"./directiveGroup\": 19,\n\t\"./directiveGroup.js\": 19,\n\t\"./index\": 12,\n\t\"./index.js\": 12,\n\t\"./text\": 20,\n\t\"./text.js\": 20\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 13;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/binding ^\\.\\/.*$\n ** module id = 13\n ** module chunks = 0\n **/","const _ = require('../util'),\n  proxy = _.proxy\n\nclass AbstractBinding {\n  constructor(tpl) {\n    this.tpl = tpl\n    this.binded = false\n  }\n\n  scope() {\n    return this.tpl.scope\n  }\n\n  realScope() {\n    return _.obj(this.tpl.scope)\n  }\n\n  propScope(prop) {\n    let scope = this.tpl.scope,\n      parent = scope.$parent\n\n    if (!parent)\n      return scope\n\n    while (parent && !_.hasOwnProp(scope, prop)) {\n      scope = parent\n      parent = scope.$parent\n    }\n    return proxy.proxy(scope) || scope\n  }\n\n  exprScope(expr) {\n    let scope = this.tpl.scope,\n      parent = scope.$parent,\n      prop\n\n    if (!parent)\n      return scope\n\n    prop = _.parseExpr(expr)[0]\n    while (parent && !_.hasOwnProp(scope, prop)) {\n      scope = parent\n      parent = scope.$parent\n    }\n    return proxy.proxy(scope) || scope\n  }\n\n  observe(expr, callback) {\n    _.observe(this.exprScope(expr), expr, callback)\n  }\n\n  unobserve(expr, callback) {\n    _.unobserve(this.exprScope(expr), expr, callback)\n  }\n\n  get(expr) {\n    return _.get(this.tpl.scope, expr)\n  }\n\n  has(expr) {\n    return _.has(this.tpl.scope, expr)\n  }\n\n  set(expr, value) {\n    _.set(this.tpl.scope, expr, value)\n  }\n\n  bind() {}\n\n  unbind() {}\n\n  destroy() {}\n}\n\nmodule.exports = AbstractBinding\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/binding/abstractBinding.js\n **/","const AbstractBinding = require('./abstractBinding'),\n  config = require('../config')\n\nconfig.register('generateComments', true)\n\nclass Binding extends AbstractBinding {\n  constructor(tpl, expr) {\n    super(tpl)\n    this.expr = expr\n  }\n}\n\nmodule.exports = Binding\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/binding/binding.js\n **/","const {Configuration} = require('./util')\n\nmodule.exports = new Configuration()\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/config.js\n **/","const _ = require('../util'),\n  dom = require('../dom'),\n  Binding = require('./binding'),\n  dynamicDirectiveOptions = {\n    extend: 'extend',\n    constructor: 'constructor'\n  },\n  directives = {},\n  config = require('../config'),\n  log = require('../log')\n\nclass Directive extends Binding {\n  constructor(el, tpl, expr, attr) {\n    super(tpl, expr)\n    this.el = el\n    this.attr = attr\n    dom.removeAttr(this.el, this.attr)\n    if (config.get('generateComments')) {\n      this.comment = document.createComment(' Directive:' + this.name + ' [' + this.expr + '] ')\n      dom.before(this.comment, this.el)\n    }\n  }\n}\nDirective.prototype.abstract = false\nDirective.prototype.block = false\nDirective.prototype.priority = 5\n\n_.assign(Directive, {\n  getDirective(name) {\n    return directives[name.toLowerCase()]\n  },\n  isDirective(object) {\n    return _.isExtendOf(object, Directive)\n  },\n  register(name, option) {\n    let directive\n\n    if (_.isFunc(option)) {\n      if (!_.isExtendOf(option, Directive))\n        throw TypeError(`Invalid Class Constructor, ${option.name} is not extend of Directive`)\n      directive = option\n    } else {\n      directive = _.dynamicClass(option, Directive, dynamicDirectiveOptions)\n    }\n    if (!directive.className)\n      directive.prototype.className = directive.className = (_.hump(name) + 'Directive')\n    name = name.toLowerCase()\n    if (name in directives)\n      throw new Error(`Directive[${name}] is existing`)\n\n    directives[name] = directive\n    log.debug('register Directive[%s]', name)\n    return directive\n  }\n})\nmodule.exports = Directive\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/binding/directive.js\n **/","const {Logger} = require('./util')\n\nmodule.exports = new Logger('tpl', 'debug')\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/log.js\n **/","const AbstractBinding = require('./abstractBinding'),\n  {YieId} = require('../util')\n\nclass DirectiveGroup extends AbstractBinding {\n  constructor(el, tpl, directiveConfigs) {\n    super(tpl)\n    this.el = el\n    this.directiveConfigs = directiveConfigs.sort((a, b) => {\n      return (b.const.prototype.priority - a.const.prototype.priority) || 0\n    })\n    this.directives = []\n    this.bindedCount = 0\n  }\n\n  bind() {\n    super.bind()\n    let directives = this.directives,\n      directiveConfigs = this.directiveConfigs,\n      tpl = this.tpl,\n      el = this.el,\n      directiveCount = this.directiveConfigs.length,\n      self = this\n    function parse() {\n      let idx = self.bindedCount,\n        directive = directives[idx],\n        ret\n      if (!directive) {\n        let cfg = directiveConfigs[idx]\n        directive = directives[idx] = new cfg.const(el, tpl,\n          cfg.expression, cfg.attr)\n      }\n      ret = directive.bind()\n      if ((++self.bindedCount) < directiveCount) {\n        if (ret && ret instanceof YieId)\n          ret.then(parse)\n        else\n          parse()\n      }\n    }\n    parse()\n  }\n\n  unbind() {\n    super.unbind()\n    let directives = this.directives\n    for (let i = 0, l = this.bindedCount; i < l; i++) {\n      directives[i].unbind()\n    }\n    this.bindedCount = 0\n  }\n}\nmodule.exports = DirectiveGroup\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/binding/directiveGroup.js\n **/","const _ = require('../util'),\n  dom = require('../dom'),\n  expression = require('../expression'),\n  Binding = require('./binding'),\n  expressionArgs = ['$el'],\n  config = require('../config')\n\nclass Text extends Binding {\n  constructor(el, tpl, expr) {\n    super(tpl, expr)\n    this.el = el\n    this.observeHandler = this.observeHandler.bind(this)\n    this.expression = expression.parse(this.expr, expressionArgs)\n\n    if (config.get('generateComments')) {\n      this.comment = document.createComment('Text Binding ' + this.expr)\n      dom.before(this.comment, this.el)\n    }\n  }\n\n  value() {\n    return this.expression.executeAll.call(this, this.scope(), this.el)\n  }\n\n  bind() {\n    super.bind()\n    _.each(this.expression.identities, (ident)=>{\n      this.observe(ident, this.observeHandler)\n    })\n    this.update(this.value())\n  }\n\n  unbind() {\n    super.unbind()\n    _.each(this.expression.identities, (ident)=>{\n      this.unobserve(ident, this.observeHandler)\n    })\n  }\n\n  observeHandler(attr, val) {\n    if (this.expression.simplePath) {\n      this.update(this.expression.applyFilter(val, this, [this.scope(), this.el]))\n    } else {\n      this.update(this.value())\n    }\n  }\n\n  update(val) {\n    if (_.isNil(val))\n      val = ''\n    if (val !== dom.text(this.el))\n      dom.text(this.el, val)\n  }\n}\nmodule.exports = Text\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/binding/text.js\n **/","const _ = require('./util'),\n  filter = require('./filter'),\n  defaultKeywords = _.reverseConvert('Math,Date,this,true,false,null,undefined,Infinity,NaN,isNaN,isFinite,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,parseInt,parseFloat,$scope'.split(','), () => true),\n  wsReg = /\\s/g,\n  newlineReg = /\\n/g,\n  translationReg = /[\\{,]\\s*[\\w\\$_]+\\s*:|('(?:[^'\\\\]|\\\\.)*'|\"(?:[^\"\\\\]|\\\\.)*\"|`(?:[^`\\\\]|\\\\.)*\\$\\{|\\}(?:[^`\\\\]|\\\\.)*`|`(?:[^`\\\\]|\\\\.)*`)|new |typeof |void |(\\|\\|)/g,\n  translationRestoreReg = /\"(\\d+)\"/g,\n  pathTestReg = /^[A-Za-z_$][\\w$]*(?:\\.[A-Za-z_$][\\w$]*|\\['.*?'\\]|\\[\".*?\"\\]|\\[\\d+\\]|\\[[A-Za-z_$][\\w$]*\\])*$/,\n  booleanLiteralReg = /^(?:true|false)$/,\n  identityReg = /[A-Za-z_$][\\w$]*(?:\\.[A-Za-z_$][\\w$]*|\\['.*?'\\]|\\[\".*?\"\\]|\\[\\d+\\]|\\[[A-Za-z_$][\\w$]*\\])*[^\\w$\\.]/g,\n  propReg = /^[A-Za-z_$][\\w$]*/\n\nlet translations = []\n\nfunction translationProcessor(str, isString) {\n  let i = translations.length\n  translations[i] = isString ? str.replace(newlineReg, '\\\\n') : str\n  return `\"${i}\"`\n}\n\nfunction translationRestoreProcessor(str, i) {\n  return translations[i]\n}\n\nlet currentIdentities, currentKeywords, prevPropScope\n\nfunction identityProcessor(raw, idx, str) {\n  let l = raw.length,\n    suffix = raw.charAt(l - 1),\n    exp = raw.slice(0, l - 1),\n    prop = exp.match(propReg)[0]\n\n  if (defaultKeywords[prop] || currentKeywords[prop])\n    return raw\n  if (prop === '$context')\n    return raw.replace(propReg, prevPropScope)\n  if (suffix == '(') {\n    suffix = (idx + l == str.length || str.charAt(idx + l) == ')') ? '' : ','\n    prevPropScope = `this.propScope('${prop}')`\n    return `$scope.${exp}.call(${prevPropScope}${suffix}`\n  }\n  currentIdentities[exp] = true\n  return `$scope.${exp}${suffix}`\n}\n\nfunction complileExpr(body) {\n  prevPropScope = undefined;\n  return (body + ' ').replace(identityReg, identityProcessor)\n    .replace(translationRestoreReg, translationRestoreProcessor);\n}\n\nfunction compileFilterArgs(argExprs, keywords) {\n  for (let i = 0, l = argExprs.length; i < l; i++) {\n    argExprs[i] = makeExecuter(complileExpr(argExprs[i]), keywords);\n  }\n  return argExprs;\n}\n\nfunction compileFilter(filterExprs, keywords) {\n  if (!filterExprs || !filterExprs.length)\n    return [];\n\n  let filters = [],\n    filterExpr, name, argExprs\n\n  for (let i = 0, l = filterExprs.length; i < l; i++) {\n    if ((filterExpr = _.trim(filterExprs[i]))) {\n      argExprs = filterExpr.replace(/,?\\s+/g, ',').split(',')\n      filters.push({\n        name: argExprs.shift().replace(translationRestoreReg, translationRestoreProcessor),\n        args: compileFilterArgs(argExprs, keywords)\n      })\n    }\n  }\n  return filters\n}\n\nfunction compileExecuter(exp, keywords) {\n  let filterExprs, ret,\n    isSimple = isSimplePath(exp)\n\n  currentIdentities = {}\n  currentKeywords = keywords ? _.reverseConvert(keywords, () => true) : {}\n\n  if (!isSimple) {\n    filterExprs = exp.replace(translationReg, translationProcessor).split('|')\n    exp = filterExprs.shift().replace(wsReg, '')\n    isSimple = isSimplePath(exp)\n  }\n  if (isSimple) {\n    exp = exp.replace(translationRestoreReg, translationRestoreProcessor)\n    currentIdentities[exp] = true\n    ret = {\n      execute: makeExecuter(`$scope.${exp}`, keywords),\n      path: _.parseExpr(exp),\n      expr: exp\n    }\n  } else {\n    ret = {\n      execute: makeExecuter(complileExpr(exp), keywords),\n      expr: exp\n    }\n  }\n  ret.filters = compileFilter(filterExprs, keywords)\n  ret.simplePath = isSimple;\n  ret.identities = _.keys(currentIdentities)\n\n  currentKeywords = undefined\n  currentIdentities = undefined\n  translations.length = 0\n  ret.applyFilter = function(data, argScope, args, apply) {\n    let fs = ret.filters,\n      f, _args, rs\n\n    for (let i = 0, l = fs.length; i < l; i++) {\n      f = fs[i]\n      _args = parseFilterArgs(f.args, argScope, args)\n      rs = (apply !== false ? filter.apply : filter.unapply)(f.name, data, _args)\n      if (rs.stop) {\n        return rs.data\n      } else if (rs.replaceData)\n        data = rs.data\n    }\n    return data\n  }\n  ret.executeAll = function() {\n    let val = ret.execute.apply(this, arguments)\n    val = ret.applyFilter(val, this, arguments)\n    return val\n  }\n  return ret\n}\n\nfunction parseFilterArgs(executors, scope, args) {\n  return _.map(executors, (executor)=>{\n    return executor.apply(scope, args)\n  })\n}\n\nfunction makeExecuter(body, args) {\n  let _args = ['$scope']\n\n  args = args ? _args.concat(args) : _args\n  args.push(`return ${body};`)\n  try {\n    return Function.apply(Function, args)\n  } catch (e) {\n    throw Error(`Invalid expression. Generated function body: ${body}`)\n  }\n}\n\nfunction isSimplePath(exp) {\n  return pathTestReg.test(exp) &&\n    !booleanLiteralReg.test(exp)\n}\n\nlet cache = {}\n\nexport function parse(exp, args) {\n  exp = _.trim(exp)\n  let res\n  if ((res = cache[exp]))\n    return res\n  cache[exp] = res = compileExecuter(exp, args)\n  return res\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/expression.js\n **/","const _ = require('./util'),\n  slice = Array.prototype.slice,\n  filters = {},\n  log = require('./log')\n\nfunction apply(name, data, args, apply) {\n  let f = filters[name],\n    type = f ? f.type : undefined, fn\n\n  fn = f ? apply !== false ? f.apply : f.unapply : undefined\n  if (!fn) {\n    log.warn(`filter[${name}].${apply !== false ? 'apply' : 'unapply'} is undefined`)\n  } else {\n    if (_.isFunc(args)) args = args()\n    data = fn.apply(f, [data].concat(args))\n  }\n  return {\n    stop: type == 'event' && data === false,\n    data: data,\n    replaceData: type !== 'event'\n  }\n}\nlet filter = {\n  register(name, filter) {\n    if (filters[name])\n      throw Error(`Filter[${name}] is existing`)\n    if (typeof filter == 'function')\n      filter = {\n        apply: filter\n      }\n    filter.type = filter.type || 'normal'\n    filters[name] = filter\n    log.debug('register Filter[%s:%s]', filter.type, name)\n  },\n\n  get(name) {\n    return filters[name]\n  },\n\n  apply: apply,\n\n  unapply(name, data, args) {\n    return apply(name, data, args, false)\n  }\n}\n\nmodule.exports = filter\n\nexport const keyCodes = {\n  esc: 27,\n  tab: 9,\n  enter: 13,\n  space: 32,\n  'delete': [8, 46],\n  up: 38,\n  left: 37,\n  right: 39,\n  down: 40\n}\n\nlet eventFilters = {\n  key(e) {\n    let which = e.which, k\n\n    for(let i = 1, l = arguments.length; i < l; i++){\n      k = arguments[i]\n      if(which == (keyCodes[k] || k))\n        return true\n    }\n    return false\n  },\n  stop(e) {\n    e.stopPropagation()\n  },\n  prevent(e) {\n    e.preventDefault()\n  },\n  self(e) {\n    return e.target === e.currentTarget\n  }\n}\n\n_.each(eventFilters, (fn, name) => {\n  filter.register(name, {\n    type: 'event',\n    apply: fn\n  })\n})\n\nlet nomalFilters = {\n  json: {\n    apply: function(value, indent) {\n      return typeof value === 'string'\n        ? value\n        : JSON.stringify(value, null, Number(indent) || 2)\n    },\n    unapply: function(value) {\n      try {\n        return JSON.parse(value)\n      } catch (e) {\n        return value\n      }\n    }\n  },\n\n  capitalize(value) {\n    if (!value && value !== 0) return ''\n    value = value.toString()\n    return value.charAt(0).toUpperCase() + value.slice(1)\n  },\n\n  uppercase(value) {\n    return (value || value === 0)\n      ? value.toString().toUpperCase()\n      : ''\n  },\n\n  lowercase(value) {\n    return (value || value === 0)\n      ? value.toString().toLowerCase()\n      : ''\n  },\n\n  currency(value, currency) {\n    value = parseFloat(value)\n    if (!isFinite(value) || (!value && value !== 0)) return ''\n    currency = currency != null ? currency : '$'\n    var stringified = Math.abs(value).toFixed(2)\n    var _int = stringified.slice(0, -3)\n    var i = _int.length % 3\n    var head = i > 0\n      ? (_int.slice(0, i) + (_int.length > 3 ? ',' : ''))\n      : ''\n    var _float = stringified.slice(-3)\n    var sign = value < 0 ? '-' : ''\n    return sign + currency + head + _int.slice(i).replace(digitsRE, '$1,') + _float\n  },\n\n  pluralize(value) {\n    var args = slice.call(arguments, 1)\n    return args.length > 1\n      ? (args[value % 10 - 1] || args[args.length - 1])\n      : (args[0] + (value === 1 ? '' : 's'))\n  }\n}\n_.each(nomalFilters, (f, name) => {\n  filter.register(name, f)\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/filter.js\n **/","class TextParser{\n  constructor(text){\n    this.text = text\n  }\n  token(){\n    throw new Error('abstract method')\n  }\n}\n\nclass NormalTextParser extends TextParser{\n  constructor(text){\n    super(text)\n    this.index = 0\n    this.reg = /{([^{]+)}/g\n  }\n  token(){\n    let tk, reg = this.reg\n\n    if(tk = reg.exec(this.text)){\n      let index = reg.lastIndex\n\n      this.index = index\n      return {\n        token: tk[1],\n        start: index - tk[0].length,\n        end: index\n      }\n    }\n    this.index = 0\n  }\n}\nTextParser.NormalTextParser = NormalTextParser\nmodule.exports = TextParser\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/textParser.js\n **/","const _ = require('../util')\n\nmodule.exports = _.assign({}, require('./each'), require('./event'), require('./simple'))\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/directives/index.js\n **/","const _ = require('../util'),\n  dom = require('../dom'),\n  {\n    Directive\n  } = require('../binding'),\n  TemplateInstance = require('../templateInstance'),\n  eachReg = /^\\s*([\\s\\S]+)\\s+in\\s+([\\S]+)(\\s+track\\s+by\\s+([\\S]+))?\\s*$/,\n  eachAliasReg = /^(\\(\\s*([^,\\s]+)(\\s*,\\s*([\\S]+))?\\s*\\))|([^,\\s]+)(\\s*,\\s*([\\S]+))?$/\n\nexport class EachDirective extends Directive {\n  constructor(el, tpl, expr, attr) {\n    super(el, tpl, expr, attr)\n    this.observeHandler = this.observeHandler.bind(this)\n    this.lengthObserveHandler = this.lengthObserveHandler.bind(this)\n\n    let token = expr.match(eachReg)\n    if (!token)\n      throw Error(`Invalid Expression[${expr}] on Each Directive`)\n\n    this.scopeExpr = token[2]\n    this.indexExpr = token[4]\n\n    let aliasToken = token[1].match(eachAliasReg)\n    if (!aliasToken)\n      throw Error(`Invalid Expression[${token[1]}] on Each Directive`)\n\n    this.valueAlias = aliasToken[2] || aliasToken[5]\n    this.keyAlias = aliasToken[4] || aliasToken[7]\n\n    this.begin = document.createComment('each begin')\n    dom.before(this.begin, this.el)\n    this.end = document.createComment('each end')\n    dom.after(this.end, this.begin)\n\n    dom.remove(this.el)\n    let div = document.createElement('div')\n    dom.append(div, this.el)\n    this.el = div\n  }\n\n  update(data) {\n    let parentScope = this.realScope(),\n      begin = this.begin,\n      end = this.end,\n      indexExpr = this.indexExpr,\n      valueAlias = this.valueAlias,\n      keyAlias = this.keyAlias,\n      init = !this.cache,\n      oldSort = this.sort,\n      sort = this.sort = new Array(data.length),\n      cache = init ? (this.cache = {}) : this.cache,\n      removed = [],\n      added = []\n\n\n    _.each(data, (item, idx) => {\n      let index = indexExpr ? _.get(item, indexExpr) : idx, // read index of data item\n        scope = !init && cache[index] // find scope in cache\n\n      if (scope) { // update scope\n        this.initScope(scope, item, idx, index)\n      } else { // create scope\n        scope = cache[index] = this.createScope(parentScope, item, idx, index)\n        if (!init)\n          added.push(scope)\n      }\n      sort[idx] = scope // update sort\n      if (init) { // init compontent\n        scope.$tpl = new TemplateInstance(dom.cloneNode(this.el), scope, this.tpl.TextParser, this.tpl.directiveReg)\n        data[idx] = scope[valueAlias]\n        scope.$tpl.before(end)\n      }\n    })\n    if (!init) {\n      _.each(oldSort, (oldScope) => {\n        let scope = cache[oldScope.$index]\n        if (scope && scope !== sort[oldScope.$sort]) {\n          removed.push(oldScope)\n          cache[oldScope.$index] = undefined\n        }\n      })\n\n      _.each(added, (scope) => {\n        let scope2 = removed.pop()\n        if (scope2) {\n          this.initScope(scope2, scope)\n          cache[scope.$index] = scope2\n          sort[scope.$sort] = scope2\n          scope = scope2\n        } else {\n          scope.$tpl = new TemplateInstance(dom.cloneNode(this.el), scope, this.tpl.TextParser, this.tpl.directiveReg)\n        }\n        data[scope.$sort] = scope[valueAlias]\n        scope.$tpl.after(scope.$sort ? sort[scope.$sort - 1].$tpl.els : begin)\n      })\n\n      _.each(removed, (scope) => {\n        scope.$tpl.destroy()\n      })\n    }\n  }\n\n  createScope(parentScope, value, i, index) {\n    let scope = _.create(parentScope)\n    scope.$parent = parentScope\n    scope.$eachContext = this\n    scope.$tpl = null\n    this.initScope(scope, value, i, index, true)\n    return scope\n  }\n\n  initScope(scope, value, i, index, isCreate) {\n    if (!isCreate)\n      scope = scope.$tpl.scope\n    scope.$sort = i\n    scope[this.valueAlias] = value\n    if (this.keyAlias)\n      scope[this.keyAlias] = i\n    scope.$index = index\n  }\n\n  bind() {\n    super.bind()\n    this.observe(this.scopeExpr, this.observeHandler)\n    this.observe(this.scopeExpr + '.length', this.lengthObserveHandler)\n    this.update(this.target())\n  }\n\n  unbind() {\n    super.unbind()\n    this.unobserve(this.scopeExpr, this.observeHandler)\n    this.unobserve(this.scopeExpr + '.length', this.lengthObserveHandler)\n  }\n\n  target() {\n    return this.get(this.scopeExpr)\n  }\n\n  observeHandler(expr, target) {\n    this.update(target)\n  }\n\n  lengthObserveHandler() {\n    this.update(this.target())\n  }\n}\nEachDirective.prototype.abstract = true\nEachDirective.prototype.block = true\nEachDirective.prototype.priority = 10\n\nDirective.register('each', EachDirective)\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/directives/each.js\n **/","const _ = require('../util'),\n  dom = require('../dom'),\n  {Directive} = require('../binding'),\n  expression = require('../expression'),\n  expressionArgs = ['$el', '$event']\n\nfunction registerDirective(name, opt) {\n  let cls = Directive.register(name, opt)\n  module.exports[cls.className] = cls\n}\n\nexport class EventDirective extends Directive {\n  constructor(el, tpl, expr, attr) {\n    super(el, tpl, expr, attr)\n    this.handler = this.handler.bind(this)\n    this.expression = expression.parse(this.expr, expressionArgs)\n  }\n\n  handler(e) {\n    let scope = this.scope(),\n      exp = this.expression,\n      fn\n\n    e.stopPropagation()\n    if (this.expression.applyFilter(e, this, [scope, this.el, e]) === false)\n      return\n    fn = exp.execute.call(this, scope, this.el, e)\n    if (exp.simplePath) {\n      if (typeof fn != 'function')\n        throw TypeError('Invalid Event Handler:' + this.expr + ' -> ' + fn)\n      let _scope = this.propScope(exp.path[0])\n      fn.call(_scope, scope, this.el, e, _scope)\n    }\n  }\n\n  bind() {\n    super.bind()\n    dom.on(this.el, this.eventType, this.handler)\n  }\n\n  unbind() {\n    super.unbind()\n    dom.off(this.el, this.eventType, this.handler)\n  }\n}\n\nconst events = ['blur', 'change', 'click', 'dblclick', 'error', 'focus', 'keydown', 'keypress', 'keyup', 'load',\n  'mousedown', 'mousemove', 'mouseout', 'mouseover', 'mouseup', 'resize', 'scroll', 'select', 'submit', 'unload', {\n    name: 'oninput',\n    eventType: 'input propertychange'\n  }]\n\n_.each(events, (opt) => {\n  opt = _.isObject(opt) ? opt : {\n    eventType: opt\n  }\n  opt.name = opt.name || `on${opt.eventType}`\n  opt.extend = EventDirective\n  registerDirective(opt.name, opt)\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/directives/event.js\n **/","const _ = require('../util'),\n  dom = require('../dom'),\n  {Directive} = require('../binding'),\n  expression = require('../expression'),\n  {YieId} = _,\n  expressionArgs = ['$el']\n\nfunction registerDirective(name, opt) {\n  let cls = Directive.register(name, opt)\n  module.exports[cls.className] = cls\n}\n\nexport class SimpleDirective extends Directive {\n  constructor(el, tpl, expr, attr) {\n    super(el, tpl, expr, attr)\n    this.observeHandler = this.observeHandler.bind(this)\n    this.expression = expression.parse(this.expr, expressionArgs)\n  }\n\n  realValue() {\n    return this.expression.execute.call(this, this.scope(), this.el)\n  }\n\n  value() {\n    return this.expression.executeAll.call(this, this.scope(), this.el)\n  }\n\n  bind() {\n    super.bind()\n    _.each(this.expression.identities, (ident) => {\n      this.observe(ident, this.observeHandler)\n    })\n    this.update(this.value())\n  }\n\n  unbind() {\n    super.unbind()\n    _.each(this.expression.identities, (ident) => {\n      this.unobserve(ident, this.observeHandler)\n    })\n  }\n\n  blankValue(val) {\n    if (arguments.length == 0)\n      val = this.value()\n    return _.isNil(val) ? '' : val\n  }\n\n  observeHandler(expr, val) {\n    if (this.expression.simplePath) {\n      this.update(this.expression.applyFilter(val, this, [this.scope(), this.el]))\n    } else {\n      this.update(this.value())\n    }\n  }\n\n  update(val) {\n    throw 'Abstract Method [' + this.className + '.update]'\n  }\n}\n\nconst EVENT_CHANGE = 'change',\n  EVENT_INPUT = 'input',\n  EVENT_CLICK = 'click',\n  TAG_SELECT = 'SELECT',\n  TAG_INPUT = 'INPUT',\n  TAG_TEXTAREA = 'TEXTAREA',\n  RADIO = 'radio',\n  CHECKBOX = 'checkbox',\n  directives = {\n    text: {\n      update(val) {\n        dom.text(this.el, this.blankValue(val))\n      },\n      block: true\n    },\n    html: {\n      update(val) {\n        dom.html(this.el, this.blankValue(val))\n      },\n      block: true\n    },\n    'class': {\n      update(value) {\n        if (value && typeof value == 'string') {\n          this.handleArray(_.trim(value).split(/\\s+/))\n        } else if (value instanceof Array) {\n          this.handleArray(value)\n        } else if (value && typeof value == 'object') {\n          this.handleObject(value)\n        } else {\n          this.cleanup()\n        }\n      },\n\n      handleObject(value) {\n        this.cleanup(value, false)\n        let keys = this.prevKeys = [],\n          el = this.el\n        for (let key in value) {\n          if (value[key]) {\n            dom.addClass(el, key)\n            keys.push(key)\n          } else {\n            dom.removeClass(el, key)\n          }\n        }\n      },\n\n      handleArray(value) {\n        this.cleanup(value, true)\n        let keys = this.prevKeys = [],\n          el = this.el\n        _.each(value, (val) => {\n          if (val) {\n            keys.push(val)\n            dom.addClass(el, val)\n          }\n        })\n      },\n\n      cleanup(value, isArr) {\n        let prevKeys = this.prevKeys\n        if (prevKeys) {\n          let i = prevKeys.length,\n            el = this.el\n          while (i--) {\n            let key = prevKeys[i]\n            if (!value || (isArr ? _.indexOf(value, key) == -1 : !_.hasOwnProp(value, key))) {\n              dom.removeClass(el, key)\n            }\n          }\n        }\n      }\n    },\n    'style': {\n      update(value) {\n        if (value && _.isString(value)) {\n          dom.style(this.el, value)\n        } else if (value && _.isObject(value)) {\n          this.handleObject(value)\n        }\n      },\n\n      handleObject(value) {\n        this.cleanup(value)\n        let keys = this.prevKeys = [],\n          el = this.el\n        _.each(value, (val, key) => {\n          dom.css(el, key, val)\n        })\n      }\n    },\n    show: {\n      update(val) {\n        dom.css(this.el, 'display', val ? '' : 'none')\n      }\n    },\n    hide: {\n      update(val) {\n        dom.css(this.el, 'display', val ? 'none' : '')\n      }\n    },\n    value: {\n      update(val) {\n        dom.val(this.el, this.blankValue(val))\n      }\n    },\n    'if': {\n      bind() {\n        SimpleDirective.prototype.bind.call(this)\n        if (!this.directives)\n          return (this.yieId = new YieId())\n      },\n      update(val) {\n        if (!val) {\n          dom.css(this.el, 'display', 'none')\n        } else {\n          if (!this.directives) {\n            let directives = this.directives = this.tpl.parseChildNodes(this.el)\n            _.each(directives, (dir) => {\n              dir.bind()\n            })\n            if (this.yieId) {\n              this.yieId.done()\n              this.yieId = undefined\n            }\n          }\n          dom.css(this.el, 'display', '')\n        }\n      },\n      unbind() {\n        SimpleDirective.prototype.unbind.call(this)\n        if (this.directives) {\n          let directives = this.directives\n          _.each(directives, (dir) => {\n            dir.unbind()\n          })\n        }\n      },\n      priority: 9,\n      block: true\n    },\n    checked: {\n      update(val) {\n        _.isArray(val) ? dom.checked(this.el, _.indexOf(val, dom.val(this.el))) : dom.checked(this.el, !!val)\n      }\n    },\n    selected: {\n      update(val) {}\n    },\n    focus: {\n      update(val) {\n        if (val)\n          dom.focus(this.el)\n      }\n    },\n    input: {\n      constructor(el) {\n        SimpleDirective.apply(this, arguments)\n\n        if (!this.expression.simplePath)\n          throw TypeError(`Invalid Expression[${this.expression.expr}] on InputDirective`)\n\n        this.onChange = this.onChange.bind(this)\n        let tag = this.tag = el.tagName\n        switch (tag) {\n          case TAG_SELECT:\n            this.event = EVENT_CHANGE\n            break\n          case TAG_INPUT:\n            let type = this.type = el.type\n            this.event = (type == RADIO || type == CHECKBOX) ? EVENT_CHANGE : EVENT_INPUT\n            break\n          case TAG_TEXTAREA:\n            throw TypeError('Directive[input] not support ' + tag)\n            break\n          default:\n            throw TypeError('Directive[input] not support ' + tag)\n        }\n      },\n\n      bind() {\n        SimpleDirective.prototype.bind.call(this)\n        dom.on(this.el, this.event, this.onChange)\n      },\n\n      unbind() {\n        SimpleDirective.prototype.unbind.call(this)\n        dom.off(this.el, this.event, this.onChange)\n      },\n\n      setRealValue(val) {\n        this.set(this.expression.path, val)\n      },\n\n      setValue(val) {\n        this.setRealValue(this.expression.applyFilter(val, this, [this.scope(), this.el], false))\n      },\n\n      onChange(e) {\n        let val = this.elVal(),\n          idx,\n          _val = this.val\n        if (val != _val)\n          this.setValue(val)\n        e.stopPropagation()\n      },\n\n      update(val) {\n        let _val = this.blankValue(val)\n        if (_val != this.val)\n          this.elVal((this.val = _val))\n      },\n\n      elVal(val) {\n        let tag = this.tag\n\n        switch (tag) {\n          case TAG_SELECT:\n            break\n          case TAG_INPUT:\n            let type = this.type\n\n            if (type == RADIO || type == CHECKBOX) {\n              if (arguments.length == 0) {\n                return dom.checked(this.el) ? dom.val(this.el) : undefined\n              } else {\n                let checked\n\n                checked = val == dom.val(this.el)\n                if (dom.checked(this.el) != checked)\n                  dom.checked(this.el, checked)\n              }\n            } else {\n              if (arguments.length == 0) {\n                return dom.val(this.el)\n              } else if (val != dom.val(this.el)) {\n                dom.val(this.el, val)\n              }\n            }\n            break\n          case TAG_TEXTAREA:\n            throw TypeError('Directive[input] not support ' + tag)\n            break\n          default:\n            throw TypeError('Directive[input] not support ' + tag)\n        }\n      },\n      priority: 4\n    }\n  }\n\n_.each(directives, (opt, name) => {\n  opt.extend = SimpleDirective\n  registerDirective(name, opt)\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/directives/simple.js\n **/"],"sourceRoot":""}