{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 08dc1b310137641409c6","webpack:///./src/index.js","webpack:///external {\"root\":\"_\",\"commonjs\":\"_\",\"commonjs2\":\"_\",\"amd\":\"_\"}","webpack:///external {\"root\":\"jQuery\",\"commonjs\":\"jquery\",\"commonjs2\":\"jquery\",\"amd\":\"jquery\"}","webpack:///./src/text.js","webpack:///./src/binding.js","webpack:///./src/expression.js","webpack:///./src/directive.js","webpack:///./src/directive-group.js","webpack:///./src/util.js","webpack:///./src/directives.js"],"names":[],"mappings":"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","file":"tpl.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"_\"), require(\"jquery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"_\", \"jquery\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"tpl\"] = factory(require(\"_\"), require(\"jquery\"));\n\telse\n\t\troot[\"tpl\"] = factory(root[\"_\"], root[\"jQuery\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 08dc1b310137641409c6\n **/","const _ = require('lodash'),\n  $ = require('jquery'),\n  Text = require('./text'),\n  Directive = require('./directive'),\n  DirectiveGroup = require('./directive-group'),\n  Directives = require('./directives'),\n  Expression = require('./expression');\n\n\nconst PRIMITIVE = 0,\n  KEYPATH = 1,\n  TEXT = 0,\n  BINDING = 1,\n  templateContentReg = /^[\\s\\t\\r\\n]*</,\n  defaultCfg = {\n    delimiter: ['{', '}'],\n    directivePrefix: 'tpl-'\n  };\n\nclass Template {\n  constructor(templ, cfg) {\n    this.template = $(templ);\n    this.cfg = _.assign(_.clone(defaultCfg), cfg || {});\n\n    let s = this.cfg.delimiter[0],\n      e = this.cfg.delimiter[1];\n    this.delimiterReg = new RegExp(s + '([^' + s + e + ']*)' + e, 'g');\n    this.attrDirectiveTestReg = new RegExp('^' + this.cfg.directivePrefix);\n  }\n\n  complie(bind) {\n    return new TemplateInstance(this, bind);\n  }\n\n}\n\nclass TemplateInstance {\n  constructor(tpl, bind) {\n    this.tpl = tpl;\n    this.bind = bind;\n    this.el = this.tpl.template.clone();\n    this.init();\n  }\n\n  init() {\n    this.bindings = this.parse(this.el);\n    this.bindings.forEach(directive => {\n      directive.bind();\n      this.bind = directive.getScope();\n    });\n  }\n\n  parse(els) {\n    if (!els.jquery && !(els instanceof Array)) {\n      return this.parseEl(els);\n    } else {\n      let bindings = [];\n      _.each(els, el => {\n        bindings.push.apply(bindings, this.parseEl(el));\n      });\n      return bindings;\n    }\n  }\n\n  parseEl(el) {\n    switch (el.nodeType) {\n      case 1: // Element\n        return this.parseElement(el);\n      case 3: // Text\n        return this.parseText(el);\n    }\n  }\n\n  parseText(el) {\n    let text = el.data,\n      token,\n      lastIndex = 0,\n      reg = this.tpl.delimiterReg,\n      bindings = [];\n\n    while ((token = reg.exec(text))) {\n\n      this.createTextNode(text.substring(lastIndex, reg.lastIndex - token[0].length), el);\n\n      if (token[1]) {\n        bindings.push(new Text(this.createTextNode('binding', el), this, token[1]));\n      }\n\n      lastIndex = reg.lastIndex;\n    }\n\n    this.createTextNode(text.substr(lastIndex), el);\n\n    $(el).remove();\n\n    return bindings;\n  }\n\n  createTextNode(content, before) {\n    content = _.trim(content);\n    if (content) {\n      let el = document.createTextNode(content);\n      $(el).insertBefore(before);\n      return el;\n    }\n    return undefined;\n  }\n\n\n  parseElement(el) {\n    let block = false,\n      $el = $(el),\n      directives = [],\n      directiveItems = [];\n    if (el.attributes) {\n      _.each(el.attributes, attr => {\n        let name = attr.name,\n          val = attr.value, directiveConst, directive;\n        if ((name = this.parseDirectiveName(name)) && (directiveConst = Directive.getDirective(name))) {\n          directive = new directiveConst(el, this, val);\n          directiveItems.push(directive);\n          if (directive.isBlock()) {\n            block = true;\n          }\n        } else if (name) {\n          console.warn('Directive is undefined ' + attr.name);\n        }\n      });\n      if (directiveItems.length > 1) {\n        directives.push(new DirectiveGroup(el, this, directiveItems));\n      } else if (directiveItems.length == 1) {\n        directives.push(directiveItems[0]);\n      }\n    }\n    if (!block) {\n      directives.push.apply(directives, this.parseChildNodes(el));\n    }\n    return directives;\n  }\n\n  parseChildNodes(el) {\n    return this.parse(_.slice(el.childNodes, 0));\n  }\n\n  parseDirectiveName(name) {\n    let reg = this.tpl.attrDirectiveTestReg;\n    if (reg.test(name)) {\n      return name.replace(reg, '');\n    }\n    return undefined;\n  }\n}\n\nTemplate.Directive = Directive;\nTemplate.Directives = Directives;\nTemplate.Expression = Expression;\n\nmodule.exports = Template;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"_\",\"commonjs\":\"_\",\"commonjs2\":\"_\",\"amd\":\"_\"}\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"jQuery\",\"commonjs\":\"jquery\",\"commonjs2\":\"jquery\",\"amd\":\"jquery\"}\n ** module id = 2\n ** module chunks = 0\n **/","const _ = require('lodash'),\n  $ = require('jquery'),\n  Binding = require('./binding'),\n  {ObserveExpression} = require('./expression');\n\nclass Text extends Binding {\n  constructor(el, tpl, expr) {\n    super(tpl);\n    this.el = el;\n    this.expr = expr;\n    this.expression = new ObserveExpression(this.scope, expr);\n    this.update = this.update.bind(this);\n  }\n\n  bind() {\n    if (Binding.genComment && !this.comment) {\n      this.comment = $(document.createComment('Text Binding ' + this.expr));\n      this.comment.insertBefore(this.el);\n    }\n    this.scope = this.expression.observe(this.update);\n    this.update();\n  }\n\n  unbind() {\n    this.scope = this.expression.unobserve(this.update);\n  }\n\n  update() {\n    let val = this.expression.getValue();\n    if (val === undefined || val === null) {\n      val = '';\n    }\n    this.el.data = val;\n  }\n}\nmodule.exports = Text;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/text.js\n **/","const _ = require('lodash');\nclass Binding {\n  constructor(tpl) {\n    this.tpl = tpl;\n    this.scope = tpl.bind;\n  }\n\n  bind() {\n    throw 'Abstract Method [' + this.constructor.name + '.bind]';\n  }\n\n  unbind() {\n    throw 'Abstract Method [' + this.constructor.name + '.unbind]';\n  }\n\n  getScope() {\n    return this.scope;\n  }\n}\n\nBinding.genComment = true;\n\nmodule.exports = Binding;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/binding.js\n **/","const _ = require('lodash');\n\nexport class AbstractExpression {\n  constructor(bind, expr) {\n    this.bind = bind;\n    this.expr = expr;\n  }\n  getValue() {\n    throw 'Abstract Method[' + this.constructor.name + '.getValue]';\n  }\n}\n\nexport class EventExpression extends AbstractExpression {\n  getValue() {\n    return _.get(this.bind, this.expr).bind(this.bind);\n  }\n}\n\nexport class AbstractObserveExpression extends AbstractExpression {\n  observe(callback) {\n    throw 'Abstract Method[' + this.constructor.name + '.observe]';\n  }\n  unobserve(callback) {\n    throw 'Abstract Method[' + this.constructor.name + '.unobserve]';\n  }\n}\n\nexport class SimpleObserveExpression extends AbstractObserveExpression {\n  getValue() {\n    return _.get(this.bind, this.expr);\n  }\n  setValue(val) {\n    _.set(this.bind, this.expr, val);\n  }\n  observe(callback) {\n    this.bind = observer.observe(this.bind, this.expr, callback);\n    return this.bind;\n  }\n  unobserve(callback) {\n    this.bind = observer.unobserve(this.bind, this.expr, callback);\n    return this.bind;\n  }\n}\n\nexport class ObserveExpression extends AbstractObserveExpression {\n  getValue() {\n    return _.get(this.bind, this.expr);\n  }\n  observe(callback) {\n    this.bind = observer.observe(this.bind, this.expr, callback);\n    return this.bind;\n  }\n  unobserve(callback) {\n    this.bind = observer.unobserve(this.bind, this.expr, callback);\n    return this.bind;\n  }\n}\n\nexport class EachExpression extends AbstractObserveExpression {\n  constructor(bind, expr) {\n    super(bind, expr)\n  }\n  getValue() {\n    return _.get(this.bind, this.expr);\n  }\n  observe(callback) {\n    this.bind = observer.observe(this.bind, this.expr, callback);\n    return this.bind;\n  }\n  unobserve(callback) {\n    this.bind = observer.unobserve(this.bind, this.expr, callback);\n    return this.bind;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/expression.js\n **/","const _ = require('lodash'),\n  $ = require('jquery'),\n  Binding = require('./binding'),\n  SUPER_CLASS_OPTION = 'extend';\n\nclass Directive extends Binding {\n  constructor(el, tpl, expr) {\n    super(tpl);\n    this.el = el;\n    this.$el = $(el);\n    this.expr = expr;\n  }\n\n  getPriority() {\n    return this.priority;\n  }\n\n  isBlock() {\n    return this.block;\n  }\n\n  bind() {\n    if (Binding.genComment && !this.comment) {\n      this.comment = $(document.createComment(' Directive:' + this.name + ' [' + this.expr + '] '));\n      this.comment.insertBefore(this.el);\n    }\n  }\n\n  unbind() {}\n\n}\n\nDirective.prototype.name = null;\nDirective.prototype.priority = 0;\nDirective.prototype.block = false;\n\nconst directives = {},\n  isDirective = Directive.isDirective = function isDirective(object) {\n    let type = typeof object;\n    if (!object || (type != 'function' && type != 'object')) {\n      return false;\n    } else {\n      let proto = object;\n      while ((proto = Object.getPrototypeOf(proto))) {\n        if (proto === Directive) {\n          return true;\n        }\n      }\n      return false;\n    }\n  },\n  register = Directive.register = function register(name, option) {\n    if (name in directives) {\n      console.warn('Directive[' + name + '] is defined');\n    }\n    let directive;\n    if (_.isPlainObject(option)) {\n\n      directive = (function(opt, SuperClass) {\n        let userSuperClass = opt[SUPER_CLASS_OPTION];\n        if (userSuperClass && !isDirective(userSuperClass)) {\n          throw 'Invalid Directive SuperClass ' + userSuperClass;\n        }\n        SuperClass = userSuperClass || SuperClass;\n\n        let constructor = _.isFunction(opt.constructor) ? opt.constructor : undefined,\n          Directive = (function() {\n            return function() {\n              if (!(this instanceof SuperClass)) {\n                throw new TypeError('Cannot call a class as a function');\n              }\n              SuperClass.apply(this, arguments);\n              if (constructor) {\n                constructor.apply(this, arguments);\n              }\n            }\n          })();\n\n        Directive.prototype = Object.create(SuperClass.prototype, {\n          constructor: {\n            value: Directive,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n\n        delete opt.constructor;\n        delete opt[SUPER_CLASS_OPTION];\n\n        _.each(opt, (val, key) => {\n          Directive.prototype[key] = val;\n        });\n\n        Object.setPrototypeOf(Directive, SuperClass);\n        return Directive;\n\n      })(option, Directive);\n\n    } else if (isDirective(option)) {\n      directive = option;\n    } else {\n      throw TypeError('Invalid Directive Object ' + option);\n    }\n\n    directive.prototype.name = name;\n    let clsName = directive.prototype.constructor.name;\n    directive.prototype.className = clsName ? clsName : (_.capitalize(name) + 'Directive');\n\n    directives[name] = directive;\n    return directive;\n  },\n  getDirective = Directive.getDirective = function getDirective(name) {\n    return directives[name];\n  };\n\nmodule.exports = Directive;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/directive.js\n **/","const Binding = require('./binding'),\n  {ArrayIterator, YieId} = require('./util');\n\nclass DirectiveGroup extends Binding {\n  constructor(el, tpl, directives) {\n    super(tpl);\n    this.el = el;\n    this.directives = directives;\n    this.directives.sort((a, b) => {\n      return (b.priority - a.priority) || 0;\n    });\n  }\n\n  bind() {\n    let iter = new ArrayIterator(this.directives),\n      _self = this;\n    function parse() {\n      let directive, ret;\n      while (iter.hasNext()) {\n        directive = iter.next();\n        ret = directive.bind();\n        _self.scope = directive.getScope();\n        if (iter.hasNext() && ret && ret instanceof YieId) {\n          ret.then(parse);\n          break;\n        }\n      }\n    }\n    parse();\n  }\n\n  unbind() {\n    this.directives.forEach(directive => {\n      directive.unbind();\n      this.scope = directive.getScope();\n    });\n  }\n}\nmodule.exports = DirectiveGroup;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/directive-group.js\n **/","const _ = require('lodash');\n\nclass YieId {\n  constructor() {\n    this._doned = false;\n    this._thens = [];\n  }\n  then(callback) {\n    if (!_.include(this._thens, callback)) {\n      this._thens.push(callback);\n    }\n  }\n  done() {\n    if (!this._doned) {\n      _.each(this._thens, callback => callback());\n      this._doned = true;\n    }\n  }\n  isDone() {\n    return this._doned;\n  }\n}\nclass ArrayIterator {\n  constructor(array, point) {\n    this.array = array;\n    this.index = point || 0;\n  }\n  hasNext() {\n    return this.index < this.array.length;\n  }\n  next() {\n    return this.array[this.index++];\n  }\n}\nmodule.exports = {\n  YieId: YieId,\n  ArrayIterator: ArrayIterator\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/util.js\n **/","const _ = require('lodash'),\n  Directive = require('./directive'),\n  {SimpleObserveExpression, ObserveExpression, EventExpression, EachExpression} = require('./expression'),\n  {YieId} = require('./util');\n\nexport class AbstractExpressionDirective extends Directive {\n  constructor(el, tpl, expr) {\n    super(el, tpl, expr);\n    this.expression = this.buildExpression();\n  }\n\n  buildExpression() {\n    throw 'Abstract Method [' + this.className + '.buildExpression]';\n  }\n\n  getValue() {\n    return this.expression.getValue();\n  }\n\n  getBlankValue() {\n    let val = this.getValue();\n    if (val === undefined || val == null) {\n      return '';\n    }\n    return val;\n  }\n}\n\nexport class EventDirective extends AbstractExpressionDirective {\n\n  buildExpression() {\n    return new EventExpression(this.scope, this.expr);\n  }\n\n  getEventType() {\n    if (!this.eventType) {\n      throw TypeError('EventType[' + this.className + '] is undefined');\n    }\n    return this.eventType;\n  }\n\n  bind() {\n    //super();\n    if (!this.handler) {\n      this.handler = this.getValue();\n    }\n    this.$el.on(this.getEventType(), this.handler);\n  }\n\n  unbind() {\n    //super();\n    if (this.handler) {\n      this.$el.un(this.getEventType(), this.handler);\n    }\n  }\n}\n\nexport class AbstractObserveExpressionDirective extends AbstractExpressionDirective {\n  constructor(el, tpl, expr) {\n    super(el, tpl, expr);\n    this.update = this.update.bind(this);\n  }\n\n  bind() {\n    //super();\n    this.scope = this.expression.observe(this.update);\n    this.update();\n  }\n\n  unbind() {\n    this.scope = this.expression.unobserve(this.update);\n  }\n\n  update() {\n    throw 'Abstract Method [' + this.className + '.update]';\n  }\n}\n\nexport class SimpleObserveExpressionDirective extends AbstractObserveExpressionDirective {\n\n  buildExpression() {\n    return new SimpleObserveExpression(this.scope, this.expr);\n  }\n\n  setValue(val) {\n    this.expression.setValue(val);\n  }\n}\n\nexport class ObserveExpressionDirective extends AbstractObserveExpressionDirective {\n\n  buildExpression() {\n    return new ObserveExpression(this.scope, this.expr);\n  }\n}\n\nexport class EachDirective extends AbstractObserveExpressionDirective {\n\n  buildExpression() {\n    return new EachExpression(this.scope, this.expr);\n  }\n  bind() {}\n}\nEachDirective.prototype.priority = 10;\n\nDirective.register('each', EachDirective);\n\nconst EVENT_CHANGE = 'change',\n  EVENT_INPUT = 'input propertychange',\n  EVENT_CLICK = 'click',\n  TAG_SELECT = 'SELECT',\n  TAG_INPUT = 'INPUT',\n  TAG_TEXTAREA = 'TEXTAREA',\n  RADIO = 'radio',\n  CHECKBOX = 'checkbox',\n  simpleExprDirectives = {\n    input: {\n      constructor(el, tpl, expr) {\n        SimpleObserveExpressionDirective.call(this, el, tpl, expr);\n\n        this.onChange = this.onChange.bind(this);\n\n        this.event = EVENT_INPUT;\n        let tag = this.tag = el.tagName, type;\n        if (this.isSelect()) {\n          this.event = EVENT_CHANGE;\n        } else if (this.isInput()) {\n          type = this.type = el.type;\n          if (this.isRadio() || this.isCheckBox()) {\n            this.event = EVENT_CLICK;\n          }\n        } else if (!this.isTextArea()) {\n          throw TypeError('Directive[input] not support ' + el.tagName);\n        }\n      },\n\n      bind() {\n        SimpleObserveExpressionDirective.prototype.bind.call(this);\n        this.$el.on(this.event, this.onChange);\n      },\n\n      unbind() {\n        SimpleObserveExpressionDirective.prototype.unbind.call(this);\n        this.$el.un(this.event, this.onChange);\n      },\n\n      onChange() {\n        let val = this.elVal();\n        if (val != this.val) {\n          this.setValue(val);\n        }\n      },\n\n      update() {\n        this.val = this.getBlankValue();\n        if (this.val != this.elVal())\n          this.elVal(this.val);\n      },\n\n      elVal(val) {\n        let isGet = arguments.length == 0;\n        if (this.isSelect()) {\n\n        } else if (this.isInput()) {\n          if (this.isRadio() || this.isCheckBox()) {\n            if (isGet) {\n              return this.$el.prop('checked') ? this.$el.val() : undefined;\n            } else {\n              this.$el.prop('checked', _.isString(val) ? val == this.$el.val() : !!val);\n            }\n          } else {\n            return this.$el.val.apply(this.$el, arguments);\n          }\n        } else if (this.isTextArea()) {\n        }\n      },\n\n      isInput() {\n        return this.tag == TAG_INPUT;\n      },\n\n      isSelect() {\n        return this.tag == TAG_SELECT;\n      },\n\n      isTextArea() {\n        return this.tag == TAG_TEXTAREA;\n      },\n\n      isRadio() {\n        return this.type == RADIO;\n      },\n\n      isCheckBox() {\n        return this.type == CHECKBOX;\n      }\n    }\n  },\n  exprDirectives = {\n    text: {\n      update() {\n        this.$el.text(this.getBlankValue());\n      },\n      block: true\n    },\n    html: {\n      update() {\n        this.$el.html(this.getBlankValue());\n      },\n      block: true\n    },\n    'class': {\n      update() {\n        let cls = this.getBlankValue();\n        if (this.oldCls) {\n          this.$el.removeClass(this.oldCls);\n        }\n        this.$el.addClass(cls);\n        this.oldCls = cls;\n      }\n    },\n    show: {\n      update() {\n        this.$el.css('display', this.getValue() ? '' : 'none');\n      }\n    },\n    hide: {\n      update() {\n        this.$el.css('display', this.getValue() ? 'none' : '');\n      }\n    },\n    value: {\n      update() {\n        this.$el.val(this.getBlankValue());\n      }\n    },\n    'if': {\n      bind() {\n        ObserveExpressionDirective.prototype.bind.call(this);\n        if (!this.directives) {\n          this.yieId = new YieId();\n          return this.yieId;\n        }\n      },\n      update() {\n        if (!this.getValue()) {\n          this.$el.css('display', 'none');\n        } else {\n          if (!this.directives) {\n            this.directives = this.tpl.parseChildNodes(this.el);\n            this.directives.forEach(directive => {\n              directive.bind();\n              this.scope = directive.getScope();\n            });\n            if (this.yieId) {\n              this.yieId.done();\n              delete this.yieId;\n            }\n          }\n          this.$el.css('display', '');\n        }\n      },\n      unbind() {\n        ObserveExpressionDirective.prototype.unbind.call(this);\n        if (this.directives) {\n          this.directives.forEach(directive => {\n            directive.unbind();\n            this.scope = directive.getScope();\n          });\n        }\n      },\n      priority: 9,\n      block: true\n    }\n  },\n  eventDirectives = ['blur', 'change', 'click', 'dblclick', 'error', 'focus', 'keydown', 'keypress', 'keyup', 'load',\n    'mousedown', 'mousemove', 'mouseout', 'mouseover', 'mouseup', 'resize', 'scroll', 'select', 'submit', 'unload', {\n      name: 'oninput',\n      eventType: 'input propertychange'\n    }];\n\nfunction registerDirective(name, opt) {\n  let cls = Directive.register(name, opt);;\n  module.exports[cls.prototype.className] = cls;\n}\n\n// register Simple Expression Directive\n_.each(simpleExprDirectives, (opt, name) => {\n  opt.extend = SimpleObserveExpressionDirective;\n  registerDirective(name, opt);\n});\n\n// register Expression Directive\n_.each(exprDirectives, (opt, name) => {\n  opt.extend = ObserveExpressionDirective;\n  registerDirective(name, opt);\n});\n\n// register eventDirectives\n_.each(eventDirectives, (opt) => {\n  let name;\n  if (_.isString(opt)) {\n    name = 'on' + opt;\n    opt = {\n      eventType: opt\n    }\n  } else {\n    name = opt.name;\n  }\n  opt.extend = EventDirective;\n  registerDirective(name, opt);\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/directives.js\n **/"],"sourceRoot":""}