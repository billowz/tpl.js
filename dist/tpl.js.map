{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap f9c218d1081c9e44ec2e","webpack:///./src/index.js","webpack:///./src/template.js","webpack:///./src/dom.js","webpack:///./src/templateInstance.js","webpack:///external {\"root\":\"observer\",\"commonjs\":\"observer\",\"commonjs2\":\"observer\",\"amd\":\"observer\"}","webpack:///./src/util.js","webpack:///./src/text.js","webpack:///external {\"root\":\"_\",\"commonjs\":\"_\",\"commonjs2\":\"_\",\"amd\":\"_\"}","webpack:///external {\"root\":\"jQuery\",\"commonjs\":\"jquery\",\"commonjs2\":\"jquery\",\"amd\":\"jquery\"}","webpack:///./src/binding.js","webpack:///./src/expression.js","webpack:///./src/directive.js","webpack:///./src/Directive.js","webpack:///./src/directives.js","webpack:///./src/eventDirective.js","webpack:///./src/eachDirective.js"],"names":[],"mappings":"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","file":"tpl.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"observer\"), require(\"_\"), require(\"jquery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"observer\", \"_\", \"jquery\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"tpl\"] = factory(require(\"observer\"), require(\"_\"), require(\"jquery\"));\n\telse\n\t\troot[\"tpl\"] = factory(root[\"observer\"], root[\"_\"], root[\"jQuery\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_7__, __WEBPACK_EXTERNAL_MODULE_8__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap f9c218d1081c9e44ec2e\n **/","let tpl = require('./template').Template;\ntpl.expression = require('./expression');\ntpl.util = require('./util');\ntpl.Directive = require('./Directive').Directive;\ntpl.Directives = require('./directives');\ntpl.EventDirectives = require('./eventDirective');\ntpl.EachDirective = require('./eachDirective');\n\nmodule.exports = tpl;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","const dom = require('./dom'),\r\n  {TemplateInstance} = require('./templateInstance');\r\n\r\nconst parseDelimiterReg = function(delimiter) {\r\n    return new RegExp([delimiter[0], '([^', delimiter[0], delimiter[0], ']*)', delimiter[1]].join(''), 'g')\r\n  },\r\n  parseDirectiveReg = function(prefix) {\r\n    return new RegExp('^' + prefix);\r\n  },\r\n  defaultCfg = {\r\n    delimiter: ['{', '}'],\r\n    directivePrefix: 'tpl-'\r\n  };\r\n\r\nexport class Template {\r\n  constructor(templ, cfg = {}) {\r\n    this.els = $(templ);\r\n\r\n    this.directivePrefix = cfg.directivePrefix || defaultCfg.directivePrefix;\r\n    this.delimiter = cfg.delimiter || defaultCfg.delimiter;\r\n    this.directiveReg = parseDirectiveReg(this.directivePrefix);\r\n    this.delimiterReg = parseDelimiterReg(this.delimiter);\r\n  }\r\n\r\n  complie(scope) {\r\n    return new TemplateInstance(this.els, scope, this.delimiterReg, this.directiveReg);\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/template.js\n **/","export function remove(el, coll) {\r\n  if (el instanceof Array) {\r\n    for (let i = 0, l = el.length; i < l; i++)\r\n      remove(el);\r\n    return;\r\n  }\r\n  if (el.parentNode) {\r\n    el.parentNode.removeChild(el)\r\n  } else if (coll instanceof Array) {\r\n    for (let i = coll.length - 1; i >= 0; i--) {\r\n      if (coll[i] === el)\r\n        coll.splice(i, 1);\r\n    }\r\n  }\r\n}\r\nexport function before(el, target) {\r\n  target.parentNode.insertBefore(el, target)\r\n}\r\nexport function after(el, target) {\r\n  if (target.nextSibling) {\r\n    before(el, target.nextSibling)\r\n  } else {\r\n    target.parentNode.appendChild(el)\r\n  }\r\n}\r\nexport function append(el, target) {\r\n  target.appendChild(el)\r\n}\r\nexport function prepend(el, target) {\r\n  if (target.firstChild) {\r\n    before(el, target.firstChild)\r\n  } else {\r\n    target.appendChild(el)\r\n  }\r\n}\r\nexport function replace(target, el) {\r\n  var parent = target.parentNode\r\n  if (parent) {\r\n    parent.replaceChild(el, target)\r\n  }\r\n}\r\nexport function on(el, event, cb, useCapture) {\r\n  el.addEventListener(event, cb, useCapture)\r\n}\r\n\r\nexport function off(el, event, cb) {\r\n  el.removeEventListener(event, cb)\r\n}\r\n\r\nexport function setClass(el, cls) {\r\n  /* istanbul ignore if */\r\n  if (isIE9 && !/svg$/.test(el.namespaceURI)) {\r\n    el.className = cls\r\n  } else {\r\n    el.setAttribute('class', cls)\r\n  }\r\n}\r\nexport function addClass(el, cls) {\r\n  if (el.classList) {\r\n    el.classList.add(cls)\r\n  } else {\r\n    var cur = ' ' + (el.getAttribute('class') || '') + ' '\r\n    if (cur.indexOf(' ' + cls + ' ') < 0) {\r\n      setClass(el, (cur + cls).trim())\r\n    }\r\n  }\r\n}\r\nexport function removeClass(el, cls) {\r\n  if (el.classList) {\r\n    el.classList.remove(cls)\r\n  } else {\r\n    var cur = ' ' + (el.getAttribute('class') || '') + ' '\r\n    var tar = ' ' + cls + ' '\r\n    while (cur.indexOf(tar) >= 0) {\r\n      cur = cur.replace(tar, ' ')\r\n    }\r\n    setClass(el, cur.trim())\r\n  }\r\n  if (!el.className) {\r\n    el.removeAttribute('class')\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/dom.js\n **/","const observer = require('observer'),\r\n  _ = require('./util'),\r\n  dom = require('./dom'),\r\n  Text = require('./text'),\r\n  {Directive, DirectiveGroup} = require('./directive');\r\n\r\n\r\nexport class TemplateInstance {\r\n  constructor(el, scope, delimiterReg, directiveReg) {\r\n    this.el = el;\r\n    this.delimiterReg = delimiterReg;\r\n    this.directiveReg = directiveReg;\r\n    this.scope = observer.proxy.proxy(scope);\r\n    this._scopeProxyListen = _.bind.call(this._scopeProxyListen, this);\r\n    observer.proxy.on(this.scope, this._scopeProxyListen);\r\n    this.bindings = this.parse(el, this);\r\n    this.binded = false;\r\n    this.bind();\r\n  }\r\n\r\n  renderTo(target) {\r\n    debugger;\r\n    $(target).append(this.el)\r\n  }\r\n\r\n  updateScope(scope) {\r\n    if (!observer.eq(scope, this.scope)) {\r\n      observer.proxy.un(this.scope, this._scopeProxyListen);\r\n      this.scope = observer.proxy.proxy(scope);\r\n      observer.proxy.on(this.scope, this._scopeProxyListen);\r\n      let bindings = this.bindings;\r\n      for (let i = 0, l = bindings.length; i < l; i++) {\r\n        bindings[i].updateScope();\r\n      }\r\n    }\r\n  }\r\n  bind() {\r\n    if (this.binded)\r\n      return;\r\n    let bindings = this.bindings;\r\n    for (let i = 0, l = bindings.length; i < l; i++) {\r\n      bindings[i].bind();\r\n    }\r\n    this.binded = true;\r\n  }\r\n  unbind() {\r\n    if (!this.binded)\r\n      return;\r\n    let bindings = this.bindings;\r\n    for (let i = 0, l = bindings.length; i < l; i++) {\r\n      bindings[i].unbind();\r\n    }\r\n    this.binded = false;\r\n  }\r\n  destroy() {\r\n    observer.proxy.un(this.scope, this._scopeProxyListen);\r\n    let bindings = this.bindings;\r\n    for (let i = 0, l = bindings.length; i < l; i++) {\r\n      if (this.binded)\r\n        bindings[i].unbind();\r\n      bindings[i].destroy();\r\n    }\r\n    dom.remove(this.el);\r\n    this.bindings = undefined;\r\n    this.scope = undefined;\r\n  }\r\n  _scopeProxyListen(obj, proxy) {\r\n    this.scope = proxy || obj;\r\n  }\r\n\r\n  parse(els) {\r\n    if (els.jquery || els instanceof Array) {\r\n      let bindings = [];\r\n      for (let i = 0, l = els.length; i < l; i++) {\r\n        bindings.push.apply(bindings, this.parseEl(els[i]));\r\n      }\r\n      return bindings;\r\n    }\r\n    return this.parseEl(els);\r\n  }\r\n\r\n  parseEl(el) {\r\n    switch (el.nodeType) {\r\n      case 1:\r\n        return this.parseElement(el);\r\n      case 3:\r\n        return this.parseText(el);\r\n    }\r\n  }\r\n\r\n  parseText(el) {\r\n    let text = el.data,\r\n      delimiterReg = this.delimiterReg,\r\n      token,\r\n      lastIndex = 0,\r\n      bindings = [];\r\n\r\n    while ((token = delimiterReg.exec(text))) {\r\n\r\n      this.createTextNode2(text.substring(lastIndex, delimiterReg.lastIndex - token[0].length), el);\r\n\r\n      bindings.push(new Text(this.createTextNode('', el), this, token[1]));\r\n\r\n      lastIndex = delimiterReg.lastIndex;\r\n    }\r\n\r\n    if (bindings.length) {\r\n\r\n      this.createTextNode2(text.substr(lastIndex), el);\r\n\r\n      dom.remove(el);\r\n    }\r\n\r\n    return bindings;\r\n  }\r\n\r\n  parseElement(el) {\r\n    let block = false,\r\n      directives = [],\r\n      attributes = el.attributes,\r\n      attribute,\r\n      name,\r\n      directiveName,\r\n      directiveConst,\r\n      directiveConsts = [];\r\n\r\n    for (let i = 0, l = attributes.length; i < l; i++) {\r\n      attribute = attributes[i];\r\n      name = attribute.name;\r\n      directiveName = this.parseDirectiveName(name);\r\n      if (!directiveName)\r\n        continue;\r\n\r\n      directiveConst = Directive.getDirective(directiveName)\r\n      if (!directiveConst) {\r\n        console.warn('Directive is undefined ' + name);\r\n        continue;\r\n      }\r\n\r\n      if (directiveConst.prototype.abstract) {\r\n        block = true;\r\n        directiveConsts = [{\r\n          const: directiveConst,\r\n          expression: attribute.value,\r\n          attr: name\r\n        }];\r\n        break;\r\n      } else {\r\n        directiveConsts.push({\r\n          const: directiveConst,\r\n          expression: attribute.value,\r\n          attr: name\r\n        });\r\n        if (directiveConst.prototype.block)\r\n          block = true;\r\n      }\r\n    }\r\n    if (directiveConsts.length)\r\n      directives.push(new DirectiveGroup(el, this, directiveConsts));\r\n    if (!block)\r\n      directives.push.apply(directives, this.parseChildNodes(el));\r\n    return directives;\r\n  }\r\n\r\n  parseChildNodes(el) {\r\n    let els = [],\r\n      childNodes = el.childNodes;\r\n    for (let i = 0, l = childNodes.length; i < l; i++) {\r\n      els[i] = childNodes[i];\r\n    }\r\n    return this.parse(els)\r\n  }\r\n\r\n  parseDirectiveName(name) {\r\n    let directiveName = name.replace(this.directiveReg, '');\r\n    return directiveName == name ? undefined : directiveName;\r\n  }\r\n\r\n  createTextNode(content, before) {\r\n    let el = document.createTextNode(content);\r\n    dom.before(el, before);\r\n    return el;\r\n  }\r\n\r\n  createTextNode2(content, before) {\r\n    if ( (content = _.trim(content)) ) {\r\n      return this.createTextNode(content, before);\r\n    }\r\n    return undefined;\r\n  }\r\n}\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/templateInstance.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"observer\",\"commonjs\":\"observer\",\"commonjs2\":\"observer\",\"amd\":\"observer\"}\n ** module id = 4\n ** module chunks = 0\n **/","let observer = require('observer')\r\n\r\nexport class ScopeData {\r\n  constructor(scope, data) {\r\n    this.scope = scope;\r\n    this.data = data;\r\n  }\r\n}\r\n\r\nclass YieId {\r\n  constructor() {\r\n    this._doned = false;\r\n    this._thens = [];\r\n  }\r\n  then(callback) {\r\n    this._thens.push(callback);\r\n  }\r\n  done() {\r\n    if (!this._doned) {\r\n      let thens = this._thens;\r\n      for (let i = 0, l = thens.length; i < l; i++) {\r\n        thens[i]();\r\n      }\r\n      this._doned = true;\r\n    }\r\n  }\r\n  isDone() {\r\n    return this._doned;\r\n  }\r\n}\r\n\r\nclass ArrayIterator {\r\n  constructor(array, point) {\r\n    this.array = array;\r\n    this.index = point || 0;\r\n  }\r\n  hasNext() {\r\n    return this.index < this.array.length;\r\n  }\r\n  next() {\r\n    return this.array[this.index++];\r\n  }\r\n}\r\n\r\nlet hasOwn = Object.prototype.hasOwnProperty;\r\nlet trimReg = /^\\s+|\\s+$/g;\r\nlet util = {\r\n  ScopeData: ScopeData,\r\n  ArrayIterator: ArrayIterator,\r\n  YieId: YieId,\r\n  Map: observer.Map,\r\n  bind: observer.util.bind,\r\n  indexOf: observer.util.indexOf,\r\n  requestAnimationFrame: observer.util.requestAnimationFrame,\r\n  cancelAnimationFrame: observer.util.cancelAnimationFrame,\r\n  parseExpr: observer.util.parseExpr,\r\n  get: observer.util.get,\r\n  has(object, path) {\r\n    if (object) {\r\n      path = util.parseExpr(path);\r\n      var index = 0,\r\n        l = path.length - 1;\r\n\r\n      while (object && index < l) {\r\n        object = object[path[index++]];\r\n      }\r\n      return index == l && object && path[index++] in object;\r\n    }\r\n    return false;\r\n  },\r\n  set(object, path, value) {\r\n    if (object) {\r\n      path = util.parseExpr(path);\r\n      let obj = object,\r\n        attr = path[0];\r\n      for (let i = 0, l = path.length - 1; i < l; i++) {\r\n        if (!obj[attr])\r\n          obj = obj[attr] = {};\r\n        attr = path[i + 1];\r\n      }\r\n      obj[attr] = value;\r\n    }\r\n    return object;\r\n  },\r\n  hasProp(obj, prop) {\r\n    return hasOwn.call(observer.obj(obj), prop);\r\n  },\r\n  keys: Object.keys || function keys(obj) {\r\n      let arr = [];\r\n      for (let key in obj) {\r\n        arr.push(key);\r\n      }\r\n      return arr;\r\n  },\r\n  eachKeys(obj, callback) {\r\n    obj = observer.obj(obj);\r\n    for (let key in obj) {\r\n      if (hasOwn.call(obj, key))\r\n        if (callback(key) === false)\r\n          return false;\r\n    }\r\n    return true;\r\n  },\r\n  eachObj(obj, callback) {\r\n    obj = observer.obj(obj);\r\n    for (let key in obj) {\r\n      if (hasOwn.call(obj, key))\r\n        if (callback(obj[key], key) === false)\r\n          return false;\r\n    }\r\n    return true;\r\n  },\r\n  trim(str) {\r\n    return str.replace(trimReg, '');\r\n  },\r\n  capitalize(str) {\r\n    return str;\r\n  },\r\n  prototypeOf: Object.getPrototypeOf,\r\n  setPrototypeOf: Object.setPrototypeOf,\r\n  create: Object.create\r\n}\r\nmodule.exports = util;\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/util.js\n **/","const _ = require('lodash'),\r\n  $ = require('jquery'),\r\n  {Binding} = require('./binding'),\r\n  {ScopeData} = require('./util'),\r\n  expression = require('./expression'),\r\n  expressionArgs = ['$scope', '$el'];\r\n\r\nclass Text extends Binding {\r\n  constructor(el, tpl, expr) {\r\n    super(tpl, expr);\r\n    this.el = el;\r\n    this.observeHandler = this.observeHandler.bind(this);\r\n    this.expression = expression.parse(this.expr, expressionArgs);\r\n  }\r\n\r\n  value() {\r\n    let ret = this.expression.execute.call(this.scope, this, this.scope, this.el);\r\n    if (ret instanceof ScopeData)\r\n      return ret.data;\r\n    return this.filter(ret);\r\n  }\r\n\r\n  bind() {\r\n    if (Binding.generateComments && !this.comment) {\r\n      this.comment = $(document.createComment('Text Binding ' + this.expr));\r\n      this.comment.insertBefore(this.el);\r\n    }\r\n    this.expression.identities.forEach((ident) => {\r\n      this.observe(ident, this.observeHandler);\r\n    });\r\n    this.update(this.value());\r\n  }\r\n\r\n  unbind() {\r\n    this.expression.identities.forEach((ident) => {\r\n      this.unobserve(ident, this.observeHandler);\r\n    });\r\n  }\r\n\r\n  observeHandler(attr, val) {\r\n    if (this.expression.simplePath) {\r\n      this.update(this.filter(val));\r\n    } else {\r\n      this.update(this.value());\r\n    }\r\n  }\r\n\r\n  update(val) {\r\n    if (val === undefined || val === null) {\r\n      val = '';\r\n    }\r\n    this.el.data = val;\r\n  }\r\n}\r\nmodule.exports = Text;\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/text.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_7__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"_\",\"commonjs\":\"_\",\"commonjs2\":\"_\",\"amd\":\"_\"}\n ** module id = 7\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"jQuery\",\"commonjs\":\"jquery\",\"commonjs2\":\"jquery\",\"amd\":\"jquery\"}\n ** module id = 8\n ** module chunks = 0\n **/","const _ = require('./util'),\r\n  observer = require('observer');\r\n\r\nexport class AbstractBinding {\r\n  constructor(tpl) {\r\n    this.tpl = tpl;\r\n    this.scope = tpl.scope;\r\n    this.binded = false;\r\n  }\r\n\r\n  update() {}\r\n\r\n  destroy() {}\r\n\r\n  observe(expr, callback) {\r\n    observer.on(this.scope, expr, callback);\r\n  }\r\n\r\n  unobserve(expr, callback) {\r\n    observer.un(this.scope, expr, callback);\r\n  }\r\n\r\n  get(expr) {\r\n    _.get(this.scope, expr);\r\n  }\r\n\r\n  has(scope, expr) {\r\n    _.get(this.scope, expr);\r\n  }\r\n\r\n  set(expr, value) {\r\n    _.set(this.scope, expr, value);\r\n  }\r\n\r\n  bind() {\r\n    if (this.binded)\r\n      return false;\r\n    this.binded = true;\r\n    return true;\r\n  }\r\n\r\n  unbind() {\r\n    if (!this.binded)\r\n      return false;\r\n    this.binded = false;\r\n    return true;\r\n  }\r\n}\r\n\r\nconst exprReg = /((?:'[^']*')*(?:(?:[^\\|']+(?:'[^']*')*[^\\|']*)+|[^\\|]+))|^$/g;\r\nconst filterReg = /^$/g\r\n\r\nexport class Binding extends AbstractBinding {\r\n  constructor(tpl, expr) {\r\n    super(tpl);\r\n\r\n    this.fullExpr = expr;\r\n    let pipes = expr.match(exprReg);\r\n    this.expr = pipes.shift();\r\n\r\n    this.filterExprs = pipes;\r\n    this.filters = [];\r\n  }\r\n\r\n  filter(val) {\r\n    for (let i = 0; i < this.filters.length; i++) {\r\n      val = this.filters[i].apply(val);\r\n    }\r\n    return val;\r\n  }\r\n\r\n  unfilter(val) {\r\n    for (let i = 0; i < this.filters.length; i++) {\r\n      val = this.filters[i].unapply(val);\r\n    }\r\n    return val;\r\n  }\r\n}\r\nBinding.generateComments = true;\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/binding.js\n **/","const _ = require('./util');\r\n\r\nconst allowedKeywords = 'Math,Date,this,true,false,null,undefined,Infinity,NaN,' +\r\n  'isNaN,isFinite,decodeURI,decodeURIComponent,encodeURI,' +\r\n  'encodeURIComponent,parseInt,parseFloat';\r\nconst allowedKeywordsReg = new RegExp('^(' + allowedKeywords.replace(/,/g, '\\\\b|') + '\\\\b)')\r\n\r\n// keywords that don't make sense inside expressions\r\nconst improperKeywords = 'break,case,class,catch,const,continue,debugger,default,' +\r\n  'delete,do,else,export,extends,finally,for,function,if,' +\r\n  'import,in,instanceof,let,return,super,switch,throw,try,' +\r\n  'var,while,with,yield,enum,await,implements,package,' +\r\n  'proctected,static,interface,private,public';\r\nconst improperKeywordsReg = new RegExp('^(' + improperKeywords.replace(/,/g, '\\\\b|') + '\\\\b)')\r\n\r\nconst wsReg = /\\s/g\r\nconst newlineReg = /\\n/g\r\nconst translationReg = /[\\{,]\\s*[\\w\\$_]+\\s*:|('(?:[^'\\\\]|\\\\.)*'|\"(?:[^\"\\\\]|\\\\.)*\"|`(?:[^`\\\\]|\\\\.)*\\$\\{|\\}(?:[^`\\\\]|\\\\.)*`|`(?:[^`\\\\]|\\\\.)*`)|new |typeof |void /g\r\nconst translationRestoreReg = /\"(\\d+)\"/g\r\nconst pathTestReg = /^[A-Za-z_$][\\w$]*(?:\\.[A-Za-z_$][\\w$]*|\\['.*?'\\]|\\[\".*?\"\\]|\\[\\d+\\]|\\[[A-Za-z_$][\\w$]*\\])*$/\r\nconst identityReg = /[^\\w$\\.:][A-Za-z_$][\\w$]*(?:\\.[A-Za-z_$][\\w$]*|\\['.*?'\\]|\\[\".*?\"\\]|\\[\\d+\\]|\\[[A-Za-z_$][\\w$]*\\])*/g\r\nconst booleanLiteralReg = /^(?:true|false)$/\r\nconst varReg = /^[A-Za-z_$][\\w$]*/\r\n\r\n\r\nlet translations = [];\r\nfunction translationProcessor(str, isString) {\r\n  let i = translations.length\r\n  translations[i] = isString ? str.replace(newlineReg, '\\\\n') : str\r\n  return `\"${i}\"`;\r\n}\r\n\r\nfunction translationRestoreProcessor(str, i) {\r\n  return translations[i]\r\n}\r\n\r\nlet identities;\r\nlet currentArgs;\r\nfunction identityProcessor(raw) {\r\n  let c = raw.charAt(0),\r\n    exp = raw.slice(1);\r\n\r\n  if (allowedKeywordsReg.test(exp)) {\r\n    return raw;\r\n  } else if (currentArgs) {\r\n    let f = exp.match(varReg);\r\n    if (f && f[0] && currentArgs.indexOf(f[0]) != -1) {\r\n      return raw;\r\n    }\r\n  }\r\n  exp = exp.replace(translationRestoreReg, translationRestoreProcessor);\r\n  identities[exp] = 1\r\n  return `${c}scope.${exp}`\r\n}\r\n\r\nfunction compileExecuter(exp, args) {\r\n  if (improperKeywordsReg.test(exp)) {\r\n    throw Error(`Invalid expression. Generated function body: ${exp}`);\r\n  }\r\n  currentArgs = args;\r\n\r\n  let body = exp.replace(translationReg, translationProcessor).replace(wsReg, '');\r\n  body = (' ' + body).replace(identityReg, identityProcessor)\r\n    .replace(translationRestoreReg, translationRestoreProcessor);\r\n\r\n  translations.length = 0;\r\n  currentArgs = undefined;\r\n  return makeExecuter(body, args);\r\n}\r\n\r\nfunction makeExecuter(body, args) {\r\n  let _args = ['scope'];\r\n  if (args)\r\n    _args.push.apply(_args, args);\r\n  _args.push(`return ${body};`);\r\n  try {\r\n    return Function.apply(Function, _args);\r\n  } catch (e) {\r\n    throw Error(`Invalid expression. Generated function body: ${body}`);\r\n  }\r\n}\r\n\r\nexport function isSimplePath(exp) {\r\n  return pathTestReg.test(exp) &&\r\n    !booleanLiteralReg.test(exp)\r\n}\r\n\r\nlet cache = {};\r\n\r\nexport function parse(exp, args) {\r\n  exp = exp.trim();\r\n  let res;\r\n  if( (res = cache[exp]) ) {\r\n    return res;\r\n  }\r\n  res = {\r\n    exp: exp\r\n  }\r\n  if (isSimplePath(exp)) {\r\n    res.simplePath = true;\r\n    res.identities = [exp];\r\n    res.execute = makeExecuter(`scope.${exp}`, args);\r\n  } else {\r\n    res.simplePath = false;\r\n    identities = {};\r\n    res.execute = compileExecuter(exp, args);\r\n    res.identities = Object.keys(identities);\r\n    identities = undefined;\r\n  }\r\n  cache[exp] = res;\r\n  return res\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/expression.js\n **/","const _ = require('./util'),\r\n  dom = require('./dom'),\r\n  $ = require('jquery'),\r\n  {Binding, AbstractBinding} = require('./binding'),\r\n  {ArrayIterator, YieId} = require('./util'),\r\n  SUPER_CLASS_OPTION = 'extend';\r\n\r\nexport class DirectiveGroup extends AbstractBinding {\r\n  constructor(el, tpl, directiveConfigs) {\r\n    super(tpl);\r\n    this.el = el;\r\n    this.directiveConfigs = directiveConfigs.sort((a, b) => {\r\n      return (b.const.prototype.priority - a.const.prototype.priority) || 0;\r\n    });\r\n    this.directives = [];\r\n    this.bindedCount = 0;\r\n  }\r\n\r\n  bind() {\r\n    if (!super.bind())\r\n      return;\r\n\r\n    let directives = this.directives,\r\n      directiveConfigs = this.directiveConfigs,\r\n      tpl = this.tpl,\r\n      el = this.el,\r\n      directiveCount = this.directiveConfigs.length,\r\n      self = this;\r\n    function parse() {\r\n      let idx = self.bindedCount,\r\n        directive = directives[idx],\r\n        ret;\r\n      if (!directive) {\r\n        let cfg = directiveConfigs[idx];\r\n        directive = directives[idx] = new cfg.const(el, tpl,\r\n          cfg.expression, cfg.attr);\r\n      }\r\n      ret = directive.bind();\r\n      if ((++self.bindedCount) < directiveCount) {\r\n        if (ret && ret instanceof YieId)\r\n          ret.then(parse);\r\n        else\r\n          parse();\r\n      }\r\n    }\r\n    parse();\r\n  }\r\n\r\n  unbind() {\r\n    if (!super.unbind())\r\n      return;\r\n\r\n    let directives = this.directives;\r\n    for (let i = 0, l = this.bindedCount; i < l; i++) {\r\n      directives[i].unbind();\r\n    }\r\n    this.bindedCount = 0;\r\n  }\r\n}\r\n\r\nexport class Directive extends Binding {\r\n  constructor(el, tpl, expr, attr) {\r\n    super(tpl, expr);\r\n    this.el = el;\r\n    this.$el = $(el);\r\n    this.attr = attr;\r\n  }\r\n\r\n  bind() {\r\n    if (Binding.generateComments && !this.comment) {\r\n      let comment = this.comment = document.createComment(' Directive:' + this.name + ' [' + this.expr + '] ');\r\n      dom.before(comment, this.el);\r\n    }\r\n  }\r\n\r\n  unbind() {}\r\n}\r\nDirective.prototype.abstract = false;\r\nDirective.prototype.name = 'Unkown';\r\nDirective.prototype.block = false;\r\nDirective.prototype.priority = 5;\r\n\r\nconst directives = {};\r\n\r\nlet isDirective = Directive.isDirective = function isDirective(object) {\r\n  let type = typeof object;\r\n  if (!object || (type != 'function' && type != 'object')) {\r\n    return false;\r\n  }\r\n  let proto = object;\r\n  while ((proto = _.prototypeOf(proto))) {\r\n    if (proto === Directive)\r\n      return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nDirective.getDirective = function getDirective(name) {\r\n  return directives[name];\r\n};\r\n\r\nDirective.register = function register(name, option) {\r\n  if (name in directives) {\r\n    console.warn('Directive[' + name + '] is defined');\r\n  }\r\n  let directive;\r\n  if (typeof option == 'function') {\r\n    if (!isDirective(option))\r\n      throw TypeError('Invalid Directive constructor ' + option);\r\n    directive = option;\r\n    directive.prototype.className = directive.prototype.className || directive.name;\r\n  } else if (option && typeof option == 'object') {\r\n\r\n    directive = (function(opt, SuperClass) {\r\n      let userSuperClass = opt[SUPER_CLASS_OPTION];\r\n      if (userSuperClass && !isDirective(userSuperClass))\r\n        throw TypeError('Invalid Directive SuperClass ' + userSuperClass);\r\n      SuperClass = userSuperClass || SuperClass;\r\n\r\n      let constructor = typeof opt.constructor == 'function' ? opt.constructor : undefined,\r\n        Directive = function DynamicDirective() {\r\n          if (!(this instanceof SuperClass))\r\n            throw new TypeError('Cannot call a class as a function');\r\n\r\n          SuperClass.apply(this, arguments);\r\n          if (constructor)\r\n            constructor.apply(this, arguments);\r\n        }\r\n\r\n      Directive.prototype = _.create(SuperClass.prototype, {\r\n        constructor: {\r\n          value: Directive,\r\n          enumerable: false,\r\n          writable: true,\r\n          configurable: true\r\n        }\r\n      });\r\n\r\n      delete opt.constructor;\r\n      delete opt[SUPER_CLASS_OPTION];\r\n\r\n      _.eachObj(opt, (val, key) => {\r\n        Directive.prototype[key] = val;\r\n      });\r\n\r\n      _.setPrototypeOf(Directive, SuperClass);\r\n      return Directive;\r\n    })(option, Directive);\r\n\r\n    directive.prototype.className = (_.capitalize(name) + 'Directive');\r\n  } else\r\n    throw TypeError('Invalid Directive Object ' + option);\r\n\r\n  directive.prototype.name = name;\r\n\r\n  directives[name] = directive;\r\n  return directive;\r\n};\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/directive.js\n **/","const _ = require('./util'),\r\n  dom = require('./dom'),\r\n  $ = require('jquery'),\r\n  {Binding, AbstractBinding} = require('./binding'),\r\n  {ArrayIterator, YieId} = require('./util'),\r\n  SUPER_CLASS_OPTION = 'extend';\r\n\r\nexport class DirectiveGroup extends AbstractBinding {\r\n  constructor(el, tpl, directiveConfigs) {\r\n    super(tpl);\r\n    this.el = el;\r\n    this.directiveConfigs = directiveConfigs.sort((a, b) => {\r\n      return (b.const.prototype.priority - a.const.prototype.priority) || 0;\r\n    });\r\n    this.directives = [];\r\n    this.bindedCount = 0;\r\n  }\r\n\r\n  bind() {\r\n    if (!super.bind())\r\n      return;\r\n\r\n    let directives = this.directives,\r\n      directiveConfigs = this.directiveConfigs,\r\n      tpl = this.tpl,\r\n      el = this.el,\r\n      directiveCount = this.directiveConfigs.length,\r\n      self = this;\r\n    function parse() {\r\n      let idx = self.bindedCount,\r\n        directive = directives[idx],\r\n        ret;\r\n      if (!directive) {\r\n        let cfg = directiveConfigs[idx];\r\n        directive = directives[idx] = new cfg.const(el, tpl,\r\n          cfg.expression, cfg.attr);\r\n      }\r\n      ret = directive.bind();\r\n      if ((++self.bindedCount) < directiveCount) {\r\n        if (ret && ret instanceof YieId)\r\n          ret.then(parse);\r\n        else\r\n          parse();\r\n      }\r\n    }\r\n    parse();\r\n  }\r\n\r\n  unbind() {\r\n    if (!super.unbind())\r\n      return;\r\n\r\n    let directives = this.directives;\r\n    for (let i = 0, l = this.bindedCount; i < l; i++) {\r\n      directives[i].unbind();\r\n    }\r\n    this.bindedCount = 0;\r\n  }\r\n}\r\n\r\nexport class Directive extends Binding {\r\n  constructor(el, tpl, expr, attr) {\r\n    super(tpl, expr);\r\n    this.el = el;\r\n    this.$el = $(el);\r\n    this.attr = attr;\r\n  }\r\n\r\n  bind() {\r\n    if (Binding.generateComments && !this.comment) {\r\n      let comment = this.comment = document.createComment(' Directive:' + this.name + ' [' + this.expr + '] ');\r\n      dom.before(comment, this.el);\r\n    }\r\n  }\r\n\r\n  unbind() {}\r\n}\r\nDirective.prototype.abstract = false;\r\nDirective.prototype.name = 'Unkown';\r\nDirective.prototype.block = false;\r\nDirective.prototype.priority = 5;\r\n\r\nconst directives = {};\r\n\r\nlet isDirective = Directive.isDirective = function isDirective(object) {\r\n  let type = typeof object;\r\n  if (!object || (type != 'function' && type != 'object')) {\r\n    return false;\r\n  }\r\n  let proto = object;\r\n  while ((proto = _.prototypeOf(proto))) {\r\n    if (proto === Directive)\r\n      return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nDirective.getDirective = function getDirective(name) {\r\n  return directives[name];\r\n};\r\n\r\nDirective.register = function register(name, option) {\r\n  if (name in directives) {\r\n    console.warn('Directive[' + name + '] is defined');\r\n  }\r\n  let directive;\r\n  if (typeof option == 'function') {\r\n    if (!isDirective(option))\r\n      throw TypeError('Invalid Directive constructor ' + option);\r\n    directive = option;\r\n    directive.prototype.className = directive.prototype.className || directive.name;\r\n  } else if (option && typeof option == 'object') {\r\n\r\n    directive = (function(opt, SuperClass) {\r\n      let userSuperClass = opt[SUPER_CLASS_OPTION];\r\n      if (userSuperClass && !isDirective(userSuperClass))\r\n        throw TypeError('Invalid Directive SuperClass ' + userSuperClass);\r\n      SuperClass = userSuperClass || SuperClass;\r\n\r\n      let constructor = typeof opt.constructor == 'function' ? opt.constructor : undefined,\r\n        Directive = function DynamicDirective() {\r\n          if (!(this instanceof SuperClass))\r\n            throw new TypeError('Cannot call a class as a function');\r\n\r\n          SuperClass.apply(this, arguments);\r\n          if (constructor)\r\n            constructor.apply(this, arguments);\r\n        }\r\n\r\n      Directive.prototype = _.create(SuperClass.prototype, {\r\n        constructor: {\r\n          value: Directive,\r\n          enumerable: false,\r\n          writable: true,\r\n          configurable: true\r\n        }\r\n      });\r\n\r\n      delete opt.constructor;\r\n      delete opt[SUPER_CLASS_OPTION];\r\n\r\n      _.eachObj(opt, (val, key) => {\r\n        Directive.prototype[key] = val;\r\n      });\r\n\r\n      _.setPrototypeOf(Directive, SuperClass);\r\n      return Directive;\r\n    })(option, Directive);\r\n\r\n    directive.prototype.className = (_.capitalize(name) + 'Directive');\r\n  } else\r\n    throw TypeError('Invalid Directive Object ' + option);\r\n\r\n  directive.prototype.name = name;\r\n\r\n  directives[name] = directive;\r\n  return directive;\r\n};\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Directive.js\n **/","const _ = require('lodash'),\r\n  {Directive} = require('./directive'),\r\n  {YieId, ScopeData} = require('./util'),\r\n  {Template} = require('./template'),\r\n  expression = require('./expression'),\r\n  expressionArgs = ['$scope', '$el'],\r\n  eventExpressionArgs = ['$scope', '$el', '$event'];\r\n\r\nfunction registerDirective(name, opt) {\r\n  let cls = Directive.register(name, opt);;\r\n  module.exports[cls.prototype.className] = cls;\r\n}\r\n\r\nexport class AbstractExpressionDirective extends Directive {\r\n  constructor(el, tpl, expr, attr) {\r\n    super(el, tpl, expr, attr);\r\n    this.observeHandler = this.observeHandler.bind(this);\r\n    this.expression = expression.parse(this.expr, expressionArgs);\r\n    this.$el.removeAttr(this.attr);\r\n  }\r\n\r\n  setRealValue(val) {\r\n    this.set(this.expr, val);\r\n  }\r\n\r\n  realValue() {\r\n    let ret = this.expression.execute.call(this.scope, this.scope, this.scope, this.el);\r\n    if (ret instanceof ScopeData)\r\n      return ret.data;\r\n    return ret;\r\n  }\r\n\r\n  setValue(val) {\r\n    return this.setRealValue(this.unfilter(val));\r\n  }\r\n\r\n  value() {\r\n    return this.filter(this.realValue());\r\n  }\r\n\r\n  bind() {\r\n    super.bind();\r\n    this.expression.identities.forEach((ident) => {\r\n      this.observe(ident, this.observeHandler);\r\n    });\r\n    this.update(this.value());\r\n  }\r\n\r\n  unbind() {\r\n    super.unbind();\r\n    this.expression.identities.forEach((ident) => {\r\n      this.unobserve(ident, this.observeHandler);\r\n    });\r\n  }\r\n\r\n  blankValue(val) {\r\n    if (arguments.length == 0) {\r\n      val = this.value();\r\n    }\r\n    if (val === undefined || val == null) {\r\n      return '';\r\n    }\r\n    return val;\r\n  }\r\n\r\n  observeHandler(expr, val) {\r\n    if (this.expression.simplePath) {\r\n      this.update(this.filter(val));\r\n    } else {\r\n      this.update(this.value());\r\n    }\r\n  }\r\n\r\n  update(val) {\r\n    throw 'Abstract Method [' + this.className + '.update]';\r\n  }\r\n}\r\n\r\nconst EVENT_CHANGE = 'change',\r\n  EVENT_INPUT = 'input propertychange',\r\n  EVENT_CLICK = 'click',\r\n  TAG_SELECT = 'SELECT',\r\n  TAG_INPUT = 'INPUT',\r\n  TAG_TEXTAREA = 'TEXTAREA',\r\n  RADIO = 'radio',\r\n  CHECKBOX = 'checkbox',\r\n  expressions = {\r\n    text: {\r\n      update(val) {\r\n        this.$el.text(this.blankValue(val));\r\n      },\r\n      block: true\r\n    },\r\n    html: {\r\n      update(val) {\r\n        this.$el.html(this.blankValue(val));\r\n      },\r\n      block: true\r\n    },\r\n    'class': {\r\n      update(value) {\r\n        if (value && typeof value == 'string') {\r\n          this.handleArray(value.trim().split(/\\s+/));\r\n        } else if (value instanceof Array) {\r\n          this.handleArray(value);\r\n        } else if (value && typeof value == 'object') {\r\n          this.handleObject(value);\r\n        } else {\r\n          this.cleanup();\r\n        }\r\n      },\r\n\r\n      handleObject(value) {\r\n        this.cleanup(value);\r\n        let keys = this.prevKeys = [];\r\n        for (let key in value) {\r\n          if (value[key]) {\r\n            this.$el.addClass(key);\r\n            keys.push(key);\r\n          } else {\r\n            this.$el.removeClass(key);\r\n          }\r\n        }\r\n      },\r\n\r\n      handleArray(value) {\r\n        this.cleanup(value);\r\n        let keys = this.prevKeys = [];\r\n        for (let i = 0, l = value.length; i < l; i++) {\r\n          if (value[i]) {\r\n            keys.push(value[i]);\r\n            this.$el.addClass(value[i]);\r\n          }\r\n        }\r\n      },\r\n\r\n      cleanup(value) {\r\n        if (this.prevKeys) {\r\n          let i = this.prevKeys.length,\r\n            isArr = value instanceof Array;\r\n          while (i--) {\r\n            let key = this.prevKeys[i];\r\n            if (!value || (isArr ? value.indexOf(key) != -1 : value.hasOwnProperty(key))) {\r\n              this.$el.removeClass(key);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n    'style': {\r\n      update(value) {\r\n        if (value && typeof value == 'string') {\r\n          this.el.style.cssText = value;\r\n        } else if (value && typeof value == 'object') {\r\n          this.handleObject(value);\r\n        }\r\n      },\r\n\r\n      handleObject(value) {\r\n        this.cleanup(value);\r\n        let keys = this.prevKeys = [];\r\n        for (let key in value) {\r\n          this.$el.css(key, value[key]);\r\n        }\r\n      }\r\n    },\r\n    show: {\r\n      update(val) {\r\n        this.$el.css('display', val ? '' : 'none');\r\n      }\r\n    },\r\n    hide: {\r\n      update(val) {\r\n        this.$el.css('display', val ? 'none' : '');\r\n      }\r\n    },\r\n    value: {\r\n      update(val) {\r\n        this.$el.val(this.blankValue(val));\r\n      }\r\n    },\r\n    'if': {\r\n      bind() {\r\n        AbstractExpressionDirective.prototype.bind.call(this);\r\n        if (!this.directives) {\r\n          this.yieId = new YieId();\r\n          return this.yieId;\r\n        }\r\n      },\r\n      update(val) {\r\n        if (!val) {\r\n          this.$el.css('display', 'none');\r\n        } else {\r\n          if (!this.directives) {\r\n            this.directives = this.tpl.parseChildNodes(this.el);\r\n            this.directives.forEach(directive => {\r\n              directive.bind();\r\n            });\r\n            if (this.yieId) {\r\n              this.yieId.done();\r\n              delete this.yieId;\r\n            }\r\n          }\r\n          this.$el.css('display', '');\r\n        }\r\n      },\r\n      unbind() {\r\n        AbstractExpressionDirective.prototype.unbind.call(this);\r\n        if (this.directives) {\r\n          this.directives.forEach(directive => {\r\n            directive.unbind();\r\n          });\r\n        }\r\n      },\r\n      priority: 9,\r\n      block: true\r\n    },\r\n    checked: {\r\n      update(val) {\r\n        if (val instanceof Array)\r\n          this.$el.prop('checked', _.indexOf(val, this.$el.val()))\r\n        else\r\n          this.$el.prop('checked', !!val);\r\n      }\r\n    },\r\n    selected: {\r\n      update(val) {}\r\n    },\r\n    input: {\r\n      constructor(el) {\r\n        AbstractExpressionDirective.apply(this, arguments);\r\n\r\n        this.onChange = this.onChange.bind(this);\r\n\r\n        let tag = this.tag = el.tagName;\r\n        switch (tag) {\r\n          case TAG_SELECT:\r\n            this.event = EVENT_CHANGE;\r\n            break;\r\n          case TAG_INPUT:\r\n            let type = this.type = el.type;\r\n            this.event = (type == RADIO || type == CHECKBOX) ? EVENT_CHANGE : EVENT_INPUT;\r\n            break;\r\n          case TAG_TEXTAREA:\r\n            throw TypeError('Directive[input] not support ' + tag);\r\n            break;\r\n          default: throw TypeError('Directive[input] not support ' + tag);\r\n        }\r\n      },\r\n\r\n      bind() {\r\n        AbstractExpressionDirective.prototype.bind.call(this);\r\n        this.$el.on(this.event, this.onChange);\r\n      },\r\n\r\n      unbind() {\r\n        AbstractExpressionDirective.prototype.unbind.call(this);\r\n        this.$el.off(this.event, this.onChange);\r\n      },\r\n\r\n      onChange() {\r\n        let val = this.elVal(), idx;\r\n        if (this.val instanceof Array) {\r\n          if (val) {\r\n            this.val = this.val.concat(val);\r\n          } else if ((idx = _.indexOf(this.$el.val())) != -1) {\r\n            this.val = this.val.slice().splice(idx, 1);\r\n          }\r\n          this.setValue(this.val);\r\n        } else if (val != this.val)\r\n          this.setValue(val);\r\n      },\r\n\r\n      update(val) {\r\n        this.val = this.blankValue(val);\r\n        this.elVal(this.val);\r\n      },\r\n\r\n      elVal(val) {\r\n        let tag = this.tag;\r\n\r\n        switch (tag) {\r\n          case TAG_SELECT:\r\n            break;\r\n          case TAG_INPUT:\r\n            let type = this.type;\r\n\r\n            if (type == RADIO || type == CHECKBOX) {\r\n              if (arguments.length == 0) {\r\n                return this.$el.prop('checked') ? this.$el.val() : undefined;\r\n              } else {\r\n                let checked;\r\n                if (val instanceof Array)\r\n                  checked = _.indexOf(this.$el.val()) != -1;\r\n                else\r\n                  checked = val == this.$el.val();\r\n\r\n                if (this.$el.prop('checked') != checked)\r\n                  this.$el.prop('checked', checked);\r\n              }\r\n            } else {\r\n              if (arguments.length == 0) {\r\n                return this.$el.val();\r\n              } else if (val != this.$el.val()) {\r\n                this.$el.val(val);\r\n              }\r\n            }\r\n            break;\r\n          case TAG_TEXTAREA:\r\n            throw TypeError('Directive[input] not support ' + tag);\r\n            break;\r\n          default:\r\n            throw TypeError('Directive[input] not support ' + tag);\r\n        }\r\n      },\r\n      priority: 4\r\n    }\r\n  };\r\n\r\n// register Expression Directive\r\n_.each(expressions, (opt, name) => {\r\n  opt.extend = AbstractExpressionDirective;\r\n  registerDirective(name, opt);\r\n});\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/directives.js\n **/","const _ = require('./util'),\r\n  {Directive} = require('./directive'),\r\n  expression = require('./expression'),\r\n  expressionArgs = ['$scope', '$el', '$event'];\r\n\r\nfunction registerDirective(name, opt) {\r\n  let cls = Directive.register(name, opt);;\r\n  module.exports[cls.prototype.className] = cls;\r\n}\r\n\r\nexport class AbstractEventDirective extends Directive {\r\n  constructor(el, tpl, expr, attr) {\r\n    super(el, tpl, expr, attr);\r\n    this.handler = this.handler.bind(this);\r\n    this.expression = expression.parse(this.expr, expressionArgs);\r\n  }\r\n\r\n  handler(e) {\r\n    let ret = this.expression.execute.call(this.scope, this.scope, this.scope, this.el, e);\r\n    if (ret && ret instanceof ScopeData && typeof ret.data == 'function') {\r\n      ret.data.call(ret.scope, ret.scope, this.el, e);\r\n    }\r\n  }\r\n\r\n  bind() {\r\n    super.bind();\r\n    this.$el.on(this.eventType, this.handler);\r\n  }\r\n\r\n  unbind() {\r\n    super.unbind();\r\n    this.$el.off(this.eventType, this.handler);\r\n  }\r\n}\r\n\r\nconst events = ['blur', 'change', 'click', 'dblclick', 'error', 'focus', 'keydown', 'keypress', 'keyup', 'load',\r\n  'mousedown', 'mousemove', 'mouseout', 'mouseover', 'mouseup', 'resize', 'scroll', 'select', 'submit', 'unload', {\r\n    name: 'oninput',\r\n    eventType: 'input propertychange'\r\n  }];\r\n\r\n// register events\r\nfor (let i = 0, l = events.length; i < l; i++) {\r\n  let name,\r\n    opt = events[i];\r\n  if (_.isString(opt)) {\r\n    name = 'on' + opt;\r\n    opt = {\r\n      eventType: opt\r\n    }\r\n  } else {\r\n    name = opt.name;\r\n  }\r\n  opt.extend = AbstractEventDirective;\r\n  registerDirective(name, opt);\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/eventDirective.js\n **/","const _ = require('./util'),\n  {Directive} = require('./directive');\n\nconst eachReg = /^\\s*([\\s\\S]+)\\s+in\\s+([\\S]+)(\\s+track\\s+by\\s+([\\S]+))?\\s*$/,\n  eachAliasReg = /^(\\(\\s*([^,\\s]+)(\\s*,\\s*([\\S]+))?\\s*\\))|([^,\\s]+)(\\s*,\\s*([\\S]+))?$/;\n\nexport class EachDirective extends Directive {\n  constructor(el, tpl, expr, attr) {\n    super(el, tpl, expr, attr);\n    this.observeHandler = this.observeHandler.bind(this);\n    this.lengthObserveHandler = this.lengthObserveHandler.bind(this);\n\n    let token = expr.match(eachReg);\n    if (!token)\n      throw Error(`Invalid Expression[${expr}] on Each Directive`);\n\n    this.scopeExpr = token[2];\n    this.indexExpr = token[4];\n\n    let aliasToken = token[1].match(eachAliasReg);\n    if (!aliasToken)\n      throw Error(`Invalid Expression[${token[1]}] on Each Directive`);\n\n    this.valueAlias = aliasToken[2] || aliasToken[5];\n    this.keyAlias = aliasToken[4] || aliasToken[7];\n\n    this.comment = $(document.createComment(' Directive:' + this.name + ' [' + this.expr + '] '));\n    this.comment.insertBefore(this.el);\n\n    this.$el.remove().removeAttr(this.attr);\n    this.childTpl = new Template(this.$el);\n  }\n\n  createChildScope(key, data, idx) {\n    let scope = {\n      __index__: idx\n    };\n\n    if (this.keyAlias)\n      scope[this.keyAlias] = key;\n    scope[this.valueAlias] = data;\n    return scope;\n  }\n\n  createChild(key, data, idx) {\n    return this.childTpl.complie(this.createChildScope(key, data, idx), this.tpl);\n  }\n\n  bind() {\n    super.bind();\n    this.observe(this.scopeExpr, this.observeHandler);\n    this.observe(this.scopeExpr + '.length', this.lengthObserveHandler);\n    this.update(this.target());\n  }\n\n  unbind() {\n    super.unbind();\n    this.unobserve(this.scopeExpr, this.observeHandler);\n    this.unobserve(this.scopeExpr + '.length', this.lengthObserveHandler);\n  }\n\n  update(value) {\n    if (value instanceof Array) {\n      let childrenIdx = this.childrenIdx,\n        childrenSortedIdx = this.childrenSortedIdx,\n        data, idx,\n        i, l;\n\n      if (!childrenIdx) {\n        let tpl,\n          before = this.comment, el;\n\n        childrenIdx = this.childrenIdx = {};\n        childrenSortedIdx = this.childrenSortedIdx = [];\n\n        for (i = 0, l = value.length; i < l; i++) {\n          data = value[i];\n          idx = this.indexExpr ? _.get(data, this.indexExpr) : i;\n          tpl = this.createChild(i, data, idx);\n          el = tpl.el;\n          el.insertAfter(before);\n          before = el;\n\n          childrenSortedIdx[i] = childrenIdx[idx] = {\n            idx: idx,\n            scope: data,\n            tpl: tpl,\n            index: i\n          }\n        }\n      } else {\n        let child, child2, tpl,\n          added = [],\n          removed = [],\n          currentSortedIdx = [];\n\n        for (i = 0, l = value.length; i < l; i++) {\n          data = value[i];\n          idx = this.indexExpr ? _.get(data, this.indexExpr) : i;\n\n          if (!(child = childrenIdx[idx])) {\n            child = childrenIdx[idx] = {\n              idx: idx,\n              scope: data,\n              tpl: undefined,\n              index: i\n            }\n            added.push(child);\n            childrenIdx[idx] = child;\n          } else {\n            if (child.scope != data) {\n              if (child.tpl)\n                child.tpl.updateScope(this.createChildScope(i, data, idx));\n              else\n                throw Error('index for each is not uk')\n            // todo update: child.tpl.updateScope(child.scope)\n            }\n            child.index = i;\n          }\n          currentSortedIdx[i] = child;\n        }\n\n        for (i = 0, l = childrenSortedIdx.length; i < l; i++) {\n          child = childrenSortedIdx[i];\n          child2 = childrenIdx[child.idx];\n          if (child2 && child !== currentSortedIdx[child2.index]) {\n            removed.push(child);\n            childrenIdx[child.idx] = undefined;\n          }\n        }\n\n        for (i = 0, l = added.length; i < l; i++) {\n          child = added[i];\n          if( (child2 = removed.pop()) ) {\n            child.tpl = child2.tpl;\n            child.tpl.updateScope(this.createChildScope(child.index, child.scope, child.idx));\n          // todo update: child.tpl.updateScope(child.scope)\n          } else {\n            tpl = this.createChild(child.index, child.scope, idx);\n            child.tpl = tpl;\n          }\n          if (child.index) {\n            child.tpl.el.insertAfter(currentSortedIdx[child.index - 1].tpl.el);\n          } else {\n            child.tpl.el.insertAfter(this.comment);\n          }\n        }\n\n        while ((child = removed.pop()))\n        child.tpl.destroy();\n\n        this.childrenSortedIdx = currentSortedIdx;\n      }\n    } else {\n      console.warn(`Invalid Each Scope[${this.scopeExpr}] ${scope}`);\n    }\n  }\n\n  target() {\n    return this.get(this.scopeExpr);\n  }\n\n  observeHandler(expr, target) {\n    this.update(target);\n  }\n\n  lengthObserveHandler() {\n    this.update(this.target());\n  }\n}\nEachDirective.prototype.abstract = true;\nEachDirective.prototype.block = true;\nEachDirective.prototype.priority = 10;\n\nDirective.register('each', EachDirective);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/eachDirective.js\n **/"],"sourceRoot":""}