{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 89ddfa561eaedae8aff3","webpack:///C:/Users/cmp/git/dat-template.js/src/index.js","webpack:///external {\"root\":\"_\",\"commonjs\":\"_\",\"commonjs2\":\"_\",\"amd\":\"_\"}","webpack:///external {\"root\":\"jQuery\",\"commonjs\":\"jquery\",\"commonjs2\":\"jquery\",\"amd\":\"jquery\"}"],"names":[],"mappings":"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","file":"template.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"_\"), require(\"jquery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"_\", \"jquery\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"datTempl\"] = factory(require(\"_\"), require(\"jquery\"));\n\telse\n\t\troot[\"datTempl\"] = factory(root[\"_\"], root[\"jQuery\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 89ddfa561eaedae8aff3\n **/","const _ = require('lodash'),\n  $ = require('jquery'),\n  PRIMITIVE = 0,\n  KEYPATH = 1,\n  TEXT = 0,\n  BINDING = 1,\n  templateContentReg = /^[\\s\\t\\r\\n]*</,\n  defaultCfg = {\n    delimiters: ['{', '}']\n  };\n\nclass Template {\n  constructor(templ, cfg) {\n    this.template = $(templ);\n    this.cfg = _.assign(_.clone(defaultCfg), cfg || {});\n    this.parse = this.parse.bind(this);\n  }\n\n  complie(bind) {\n    let el = this.template.clone();\n    _.each(el, this.parse);\n    return el;\n  }\n\n  parseText($el) {\n    let text = $el.text(),\n      tokens = parseTemplate(text, this.cfg.delimiters),\n      comment,\n      parent = $el.parent();\n    _.each(tokens, (token) => {\n      let text = document.createTextNode(token.value);\n      $(text).insertBefore($el);\n      if (token.type === BINDING) {\n\n      }\n    });\n    comment = document.createComment(text)\n    $(comment).insertBefore($el);\n    $el.remove();\n  }\n  parse(node) {\n    let block = false,\n      $el = $(node);\n    switch (node.nodeType) {\n      case 1: // Element\n\n        break;\n      case 3: // Text\n        this.parseText($el);\n        break;\n      case 8: // Comments\n    }\n    _.each($el.contents(), this.parse);\n  }\n\n  buildBinding(binding, node, type, declaration) {\n    let pipes = declaration.split('|').map(pipe => {\n      return pipe.trim()\n    })\n\n    let context = pipes.shift().split('<').map(ctx => {\n      return ctx.trim()\n    })\n\n    let keypath = context.shift()\n    let dependencies = context.shift()\n    let options = {\n      formatters: pipes\n    }\n\n    if (dependencies) {\n      options.dependencies = dependencies.split(/\\s+/)\n    }\n\n    this.bindings.push(new binding(this, node, type, keypath, options))\n  }\n}\n\nfunction parseType(string) {\n  let type = PRIMITIVE\n  let value = string\n\n  if (/^'.*'$|^\".*\"$/.test(string)) {\n    value = string.slice(1, -1)\n  } else if (string === 'true') {\n    value = true\n  } else if (string === 'false') {\n    value = false\n  } else if (string === 'null') {\n    value = null\n  } else if (string === 'undefined') {\n    value = undefined\n  } else if (isNaN(Number(string)) === false) {\n    value = Number(string)\n  } else {\n    type = KEYPATH\n  }\n\n  return {\n    type: type,\n    value: value\n  }\n}\n\nfunction parseTemplate(template, delimiters) {\n  let tokens = []\n  let length = template.length\n  let index = 0\n  let lastIndex = 0\n\n  while (lastIndex < length) {\n    index = template.indexOf(delimiters[0], lastIndex)\n\n    if (index < 0) {\n      tokens.push({\n        type: TEXT,\n        value: template.slice(lastIndex)\n      })\n\n      break\n    } else {\n      if (index > 0 && lastIndex < index) {\n        tokens.push({\n          type: TEXT,\n          value: template.slice(lastIndex, index)\n        })\n      }\n\n      lastIndex = index + delimiters[0].length\n      index = template.indexOf(delimiters[1], lastIndex)\n\n      if (index < 0) {\n        let substring = template.slice(lastIndex - delimiters[1].length)\n        lastToken = tokens[tokens.length - 1]\n\n        if (lastToken && lastToken.type === TEXT) {\n          lastToken.value += substring\n        } else {\n          tokens.push({\n            type: TEXT,\n            value: substring\n          })\n        }\n\n        break\n      }\n\n      let value = template.slice(lastIndex, index).trim()\n\n      tokens.push({\n        type: BINDING,\n        value: value\n      })\n\n      lastIndex = index + delimiters[1].length\n    }\n  }\n\n  return tokens\n}\nmodule.exports = Template;\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/cmp/git/dat-template.js/src/index.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"_\",\"commonjs\":\"_\",\"commonjs2\":\"_\",\"amd\":\"_\"}\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"jQuery\",\"commonjs\":\"jquery\",\"commonjs2\":\"jquery\",\"amd\":\"jquery\"}\n ** module id = 2\n ** module chunks = 0\n **/"],"sourceRoot":""}